
        /* ========== CSS VARIABLES - DESIGN SYSTEM ========== */
        :root {
            /* Primary Colors - Indigo */
            --primary-50:#EEF2FF;--primary-100:#E0E7FF;--primary-200:#C7D2FE;--primary-300:#A5B4FC;
            --primary-400:#818CF8;--primary-500:#6366F1;--primary-600:#4F46E5;--primary-700:#4338CA;--primary-800:#3730A3;--primary-900:#312E81;
            /* Accent Colors - Teal */
            --accent-50:#F0FDFA;--accent-100:#CCFBF1;--accent-200:#99F6E4;--accent-300:#5EEAD4;
            --accent-400:#2DD4BF;--accent-500:#14B8A6;--accent-600:#0D9488;--accent-700:#0F766E;--accent-800:#115E59;
            /* Semantic Colors */
            --success-50:#F0FDF4;--success-100:#DCFCE7;--success-200:#BBF7D0;--success-300:#86EFAC;
            --success-400:#4ADE80;--success-500:#22C55E;--success-600:#16A34A;--success-700:#15803D;
            --warning-50:#FFFBEB;--warning-100:#FEF3C7;--warning-200:#FDE68A;--warning-300:#FCD34D;
            --warning-400:#FBBF24;--warning-500:#F59E0B;--warning-600:#D97706;--warning-700:#B45309;
            --danger-50:#FEF2F2;--danger-100:#FEE2E2;--danger-200:#FECACA;--danger-300:#FCA5A5;
            --danger-400:#F87171;--danger-500:#EF4444;--danger-600:#DC2626;--danger-700:#B91C1C;
            --info-50:#EFF6FF;--info-100:#DBEAFE;--info-200:#BFDBFE;--info-300:#93C5FD;
            --info-400:#60A5FA;--info-500:#3B82F6;--info-600:#2563EB;--info-700:#1D4ED8;
            /* Neutral Colors - Slate */
            --slate-50:#F8FAFC;--slate-100:#F1F5F9;--slate-200:#E2E8F0;--slate-300:#CBD5E1;
            --slate-400:#94A3B8;--slate-500:#64748B;--slate-600:#475569;--slate-700:#334155;
            --slate-800:#1E293B;--slate-900:#0F172A;--slate-950:#020617;
            /* Tool-specific Colors */
            --tool-warmup:#F97316;--tool-check:#6366F1;--tool-drill:#F59E0B;--tool-practice:#EC4899;--tool-wrapup:#10B981;
            --tool-vocab:#6366F1;--tool-grammar:#8B5CF6;--tool-rapid:#F59E0B;--tool-roleplay:#EC4899;
            --tool-quiz:#10B981;--tool-pronun:#06B6D4;--tool-listen:#3B82F6;--tool-situation:#F97316;
            --tool-reading:#84CC16;--tool-writing:#14B8A6;--tool-whiteboard:#64748B;
            /* Gradients */
            --gradient-primary:linear-gradient(135deg,#6366F1 0%,#8B5CF6 50%,#A855F7 100%);
            --gradient-accent:linear-gradient(135deg,#14B8A6 0%,#06B6D4 100%);
            --gradient-success:linear-gradient(135deg,#22C55E 0%,#14B8A6 100%);
            --gradient-warning:linear-gradient(135deg,#F59E0B 0%,#FB923C 100%);
            --gradient-danger:linear-gradient(135deg,#EF4444 0%,#F97316 100%);
            --gradient-info:linear-gradient(135deg,#3B82F6 0%,#6366F1 100%);
            --gradient-gold:linear-gradient(135deg,#F59E0B 0%,#FBBF24 100%);
            --gradient-warmup:linear-gradient(135deg,#F97316 0%,#FB923C 100%);
            --gradient-check:linear-gradient(135deg,#6366F1 0%,#818CF8 100%);
            --gradient-drill:linear-gradient(135deg,#F59E0B 0%,#FBBF24 100%);
            --gradient-practice:linear-gradient(135deg,#EC4899 0%,#F472B6 100%);
            --gradient-wrapup:linear-gradient(135deg,#10B981 0%,#34D399 100%);
            /* Backgrounds */
            --bg-main:linear-gradient(135deg,#F8FAFC 0%,#EEF2FF 50%,#F0FDFA 100%);
            --bg-card:#FFFFFF;--bg-sidebar:#FFFFFF;--bg-header:rgba(255,255,255,0.97);
            /* Text Colors */
            --text-primary:#0F172A;--text-secondary:#475569;--text-tertiary:#64748B;--text-muted:#94A3B8;
            /* Borders */
            --border-light:#E2E8F0;--border-medium:#CBD5E1;--border-strong:#94A3B8;
            /* Shadows */
            --shadow-xs:0 1px 2px rgba(0,0,0,0.05);
            --shadow-sm:0 1px 3px rgba(0,0,0,0.1),0 1px 2px rgba(0,0,0,0.06);
            --shadow-md:0 4px 6px -1px rgba(0,0,0,0.1),0 2px 4px -1px rgba(0,0,0,0.06);
            --shadow-lg:0 10px 15px -3px rgba(0,0,0,0.1),0 4px 6px -2px rgba(0,0,0,0.05);
            --shadow-xl:0 20px 25px -5px rgba(0,0,0,0.1),0 10px 10px -5px rgba(0,0,0,0.04);
            --shadow-2xl:0 25px 50px -12px rgba(0,0,0,0.25);
            --glow-primary:0 0 20px rgba(99,102,241,0.4);
            --glow-success:0 0 20px rgba(34,197,94,0.4);
            --glow-warning:0 0 20px rgba(245,158,11,0.4);
            --glow-danger:0 0 20px rgba(239,68,68,0.4);
            /* Typography */
            --font-base:'Be Vietnam Pro',system-ui,-apple-system,sans-serif;
            --font-jp:'Noto Sans JP','Hiragino Sans','Yu Gothic',sans-serif;
            /* Spacing */
            --space-0:0;--space-1:4px;--space-2:8px;--space-3:12px;--space-4:16px;
            --space-5:20px;--space-6:24px;--space-8:32px;--space-10:40px;--space-12:48px;
            /* Border Radius */
            --radius-none:0;--radius-sm:4px;--radius-md:8px;--radius-lg:12px;
            --radius-xl:16px;--radius-2xl:24px;--radius-3xl:32px;--radius-full:9999px;
            /* Transitions */
            --ease-default:cubic-bezier(0.4,0,0.2,1);
            --ease-in:cubic-bezier(0.4,0,1,1);
            --ease-out:cubic-bezier(0,0,0.2,1);
            --ease-bounce:cubic-bezier(0.68,-0.55,0.265,1.55);
            --transition-fast:150ms var(--ease-default);
            --transition-base:250ms var(--ease-default);
            --transition-slow:400ms var(--ease-default);
            /* Layout Dimensions */
            --header-height:68px;--tool-palette-width:76px;--student-panel-width:360px;
            --student-panel-collapsed:60px;--bottom-height:64px;--phase-bar-height:48px;
        }
        /* ========== CSS RESET & BASE ========== */
        *,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
        html{-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}
        html,body{height:100%;width:100%;overflow:auto;scroll-behavior:smooth}
        #root{height:100%;width:100%}
        body{font-family:var(--font-base);font-size:14px;line-height:1.6;color:var(--text-primary);background:var(--bg-main);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}
        img,svg{display:block;max-width:100%}
        button{font-family:inherit;cursor:pointer}
        input,textarea,select{font-family:inherit}
        a{text-decoration:none;color:inherit}
        /* ========== ANIMATIONS ========== */
        @keyframes fadeIn{from{opacity:0}to{opacity:1}}
        @keyframes fadeOut{from{opacity:1}to{opacity:0}}
        @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        @keyframes fadeInDown{from{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}
        @keyframes fadeInLeft{from{opacity:0;transform:translateX(-20px)}to{opacity:1;transform:translateX(0)}}
        @keyframes fadeInRight{from{opacity:0;transform:translateX(20px)}to{opacity:1;transform:translateX(0)}}
        @keyframes fadeInScale{from{opacity:0;transform:scale(0.9)}to{opacity:1;transform:scale(1)}}
        @keyframes scaleIn{from{transform:scale(0)}to{transform:scale(1)}}
        @keyframes scaleOut{from{transform:scale(1)}to{transform:scale(0)}}
        @keyframes slideInRight{from{transform:translateX(100%);opacity:0}to{transform:translateX(0);opacity:1}}
        @keyframes slideOutRight{from{transform:translateX(0);opacity:1}to{transform:translateX(100%);opacity:0}}
        @keyframes slideInUp{from{transform:translateY(100%)}to{transform:translateY(0)}}
        @keyframes slideInDown{from{transform:translateY(-100%)}to{transform:translateY(0)}}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.5}}
        @keyframes pulseSoft{0%,100%{transform:scale(1)}50%{transform:scale(1.03)}}
        @keyframes pulseGlow{0%,100%{box-shadow:0 0 5px rgba(99,102,241,0.4)}50%{box-shadow:0 0 25px rgba(99,102,241,0.8)}}
        @keyframes pulseRing{0%{box-shadow:0 0 0 0 rgba(99,102,241,0.6)}100%{box-shadow:0 0 0 15px rgba(99,102,241,0)}}
        @keyframes bounce{0%,100%{transform:translateY(0)}50%{transform:translateY(-8px)}}
        @keyframes bounceIn{0%{transform:scale(0.3);opacity:0}50%{transform:scale(1.1)}70%{transform:scale(0.9)}100%{transform:scale(1);opacity:1}}
        @keyframes bounceOut{0%{transform:scale(1);opacity:1}100%{transform:scale(0.3);opacity:0}}
        @keyframes shake{0%,100%{transform:translateX(0)}20%,60%{transform:translateX(-8px)}40%,80%{transform:translateX(8px)}}
        @keyframes wiggle{0%,100%{transform:rotate(0deg)}25%{transform:rotate(-5deg)}75%{transform:rotate(5deg)}}
        @keyframes shimmer{0%{background-position:-200% 0}100%{background-position:200% 0}}
        @keyframes shine{to{background-position:200% center}}
        @keyframes rotate{from{transform:rotate(0deg)}to{transform:rotate(360deg)}}
        @keyframes float{0%,100%{transform:translateY(0)}50%{transform:translateY(-6px)}}
        @keyframes speaking{0%,100%{box-shadow:0 0 0 0 rgba(34,197,94,0.5)}50%{box-shadow:0 0 0 12px rgba(34,197,94,0)}}
        @keyframes recording{0%,100%{opacity:1;transform:scale(1)}50%{opacity:0.6;transform:scale(1.1)}}
        @keyframes dotPulse{0%,80%,100%{transform:scale(0)}40%{transform:scale(1)}}
        @keyframes soundWave{0%,100%{height:20%}50%{height:100%}}
        @keyframes progress{from{width:0}to{width:100%}}
        @keyframes countDown{0%{transform:scale(1.5);opacity:0}50%{transform:scale(1);opacity:1}100%{transform:scale(0.8);opacity:0}}
        @keyframes ripple{to{transform:scale(4);opacity:0}}
        @keyframes glow{0%,100%{filter:brightness(1)}50%{filter:brightness(1.2)}}
        @keyframes typing{from{width:0}to{width:100%}}
        @keyframes blink{0%,100%{opacity:1}50%{opacity:0}}
        /* Animation Classes */
        .animate-fade-in{animation:fadeIn 0.3s var(--ease-out)}
        .animate-fade-up{animation:fadeInUp 0.4s var(--ease-out)}
        .animate-fade-down{animation:fadeInDown 0.4s var(--ease-out)}
        .animate-scale{animation:fadeInScale 0.3s var(--ease-out)}
        .animate-bounce-in{animation:bounceIn 0.5s var(--ease-bounce)}
        .animate-slide-right{animation:slideInRight 0.4s var(--ease-out)}
        .animate-pulse{animation:pulse 2s infinite}
        .animate-pulse-soft{animation:pulseSoft 2s infinite}
        .animate-float{animation:float 3s ease-in-out infinite}
        .animate-bounce{animation:bounce 1s ease-in-out infinite}
        .animate-shake{animation:shake 0.5s ease-in-out}
        .animate-rotate{animation:rotate 1s linear infinite}
        /* ========== SCROLLBAR ========== */
        ::-webkit-scrollbar{width:8px;height:8px}
        ::-webkit-scrollbar-track{background:transparent}
        ::-webkit-scrollbar-thumb{background:var(--slate-300);border-radius:var(--radius-full)}
        ::-webkit-scrollbar-thumb:hover{background:var(--slate-400)}
        .thin-scrollbar::-webkit-scrollbar{width:4px}

        /* ========== APP LAYOUT ========== */
        .app-container{display:flex;flex-direction:column;height:100vh;width:100vw;overflow:hidden;position:relative}
        .app-body{display:flex;flex:1;overflow-y:auto;overflow-x:hidden;scroll-behavior:smooth}
        
        /* ========== HEADER BAR ========== */
        .header-bar{height:var(--header-height);background:var(--bg-header);backdrop-filter:blur(16px);border-bottom:1px solid var(--border-light);display:flex;align-items:center;padding:0 var(--space-5);gap:var(--space-4);z-index:100;box-shadow:var(--shadow-sm)}
        .logo-section{display:flex;align-items:center;gap:var(--space-3)}
        .logo-icon{width:48px;height:48px;background:var(--gradient-primary);border-radius:var(--radius-xl);display:flex;align-items:center;justify-content:center;font-size:22px;font-weight:800;color:white;box-shadow:var(--shadow-lg),var(--glow-primary);animation:float 4s ease-in-out infinite}
        .logo-text{display:flex;flex-direction:column}
        .logo-title{font-size:20px;font-weight:800;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.5px}
        .logo-subtitle{font-size:10px;color:var(--text-muted);font-weight:600;letter-spacing:0.5px;text-transform:uppercase}

        /* Breadcrumb Navigation */
        .breadcrumb-nav{display:flex;align-items:center;gap:var(--space-2)}
        .breadcrumb-logo{display:flex;align-items:center;gap:var(--space-2);text-decoration:none;transition:all var(--transition-fast)}
        .breadcrumb-logo:hover{opacity:0.8;transform:translateY(-1px)}
        .breadcrumb-logo .logo-icon{width:40px;height:40px;flex-shrink:0}
        .breadcrumb-logo .logo-title{font-size:18px;font-weight:800;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:-0.5px}
        .breadcrumb-sep{font-size:18px;color:var(--text-muted);font-weight:600;user-select:none}
        .breadcrumb-link{font-size:14px;color:var(--text-secondary);font-weight:600;text-decoration:none;transition:all var(--transition-fast);padding:4px 8px;border-radius:var(--radius-md)}
        .breadcrumb-link:hover{color:var(--primary-600);background:var(--primary-50)}
        .breadcrumb-current{font-size:14px;color:var(--text-primary);font-weight:700;padding:4px 8px}

        .header-divider{width:1px;height:36px;background:linear-gradient(180deg,transparent,var(--border-medium),transparent)}
        
        /* Class Info */
        .class-info{display:flex;align-items:center;gap:var(--space-3)}
        .class-badge{padding:var(--space-1) var(--space-3);background:var(--gradient-accent);color:white;font-size:13px;font-weight:700;border-radius:var(--radius-full);box-shadow:var(--shadow-sm);letter-spacing:0.3px}
        .class-details{display:flex;flex-direction:column}
        .class-lesson{font-size:15px;font-weight:600;color:var(--text-primary)}
        .class-meta{font-size:11px;color:var(--text-muted);display:flex;align-items:center;gap:var(--space-2)}
        .class-meta span{display:flex;align-items:center;gap:var(--space-1)}
        .header-spacer{flex:1}
        
        /* Phase Timer - Real-time 90 minutes */
        .phase-timer-box{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-2) var(--space-4);background:var(--slate-50);border-radius:var(--radius-xl);border:1px solid var(--border-light)}
        .phase-current{display:flex;flex-direction:column;align-items:flex-end}
        .phase-name{font-size:11px;color:var(--text-tertiary);font-weight:500;text-transform:uppercase}
        .phase-time-left{font-size:14px;font-weight:700;color:var(--primary-600)}
        .phase-progress-ring{width:44px;height:44px;position:relative}
        .phase-progress-ring svg{transform:rotate(-90deg)}
        .phase-progress-ring circle{fill:none;stroke-width:4}
        .phase-progress-ring .bg{stroke:var(--slate-200)}
        .phase-progress-ring .progress{stroke:var(--primary-500);stroke-linecap:round;transition:stroke-dashoffset 1s linear}
        .phase-progress-ring .progress.warmup{stroke:var(--tool-warmup)}
        .phase-progress-ring .progress.check{stroke:var(--tool-check)}
        .phase-progress-ring .progress.drill{stroke:var(--tool-drill)}
        .phase-progress-ring .progress.practice{stroke:var(--tool-practice)}
        .phase-progress-ring .progress.wrapup{stroke:var(--tool-wrapup)}
        
        /* Main Timer - 90 minutes countdown */
        .main-timer{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-3) var(--space-5);border-radius:var(--radius-xl);transition:all var(--transition-base)}
        .main-timer.normal{background:linear-gradient(135deg,var(--success-50),var(--accent-50));border:1px solid var(--success-200)}
        .main-timer.warning{background:linear-gradient(135deg,var(--warning-50),var(--warning-100));border:1px solid var(--warning-300);animation:pulseSoft 1s infinite}
        .main-timer.danger{background:linear-gradient(135deg,var(--danger-50),var(--danger-100));border:1px solid var(--danger-300);animation:pulseSoft 0.5s infinite}
        .main-timer.overtime{background:linear-gradient(135deg,var(--danger-100),var(--danger-200));border:1px solid var(--danger-400)}
        .timer-display{display:flex;flex-direction:column;align-items:center}
        .timer-value{font-size:28px;font-weight:800;font-variant-numeric:tabular-nums;letter-spacing:-1px}
        .main-timer.normal .timer-value{color:var(--success-700)}
        .main-timer.warning .timer-value{color:var(--warning-700)}
        .main-timer.danger .timer-value{color:var(--danger-700)}
        .main-timer.overtime .timer-value{color:var(--danger-800)}
        .timer-label{font-size:10px;color:var(--text-muted);font-weight:500}
        .timer-progress-bar{width:100px;height:6px;background:var(--slate-200);border-radius:var(--radius-full);overflow:hidden}
        .timer-progress-fill{height:100%;border-radius:var(--radius-full);transition:width 1s linear,background var(--transition-base)}
        .main-timer.normal .timer-progress-fill{background:var(--gradient-success)}
        .main-timer.warning .timer-progress-fill{background:var(--gradient-warning)}
        .main-timer.danger .timer-progress-fill{background:var(--gradient-danger)}
        
        /* Online Count */
        .online-badge{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);background:var(--success-50);border:1px solid var(--success-200);border-radius:var(--radius-full)}
        .online-dot{width:10px;height:10px;background:var(--success-500);border-radius:50%;animation:pulse 2s infinite;box-shadow:0 0 8px var(--success-500)}
        .online-text{font-size:13px;font-weight:600;color:var(--success-700)}
        
        /* Header Controls */
        .header-controls{display:flex;align-items:center;gap:var(--space-3)}
        .control-btn{display:flex;flex-direction:column;align-items:center;gap:4px;padding:8px 12px;border:2px solid var(--border-light);border-radius:var(--radius-lg);background:var(--bg-card);color:var(--text-primary);cursor:pointer;transition:all var(--transition-fast);min-width:64px}
        .control-btn:hover{background:var(--slate-100);border-color:var(--primary-400);transform:translateY(-2px);box-shadow:var(--shadow-md)}
        .control-btn:active{transform:translateY(0)}
        .control-btn.active{background:var(--success-100);border-color:var(--success-500);color:var(--success-800);box-shadow:var(--shadow-md)}
        .control-btn.muted{background:var(--danger-100);border-color:var(--danger-500);color:var(--danger-800);box-shadow:var(--shadow-md)}
        .control-btn.sharing{background:var(--warning-100);border-color:var(--warning-500);color:var(--warning-800);animation:pulse 1.5s infinite}
        .control-btn.end-class{background:linear-gradient(135deg,#10B981,#059669);border-color:var(--success-700);color:white;margin-left:var(--space-2);box-shadow:var(--shadow-md)}
        .control-btn.end-class:hover{box-shadow:var(--shadow-lg),var(--glow-success)}
        .control-icon{font-size:18px;line-height:1}
        .control-label{font-size:10px;font-weight:700;text-transform:uppercase;letter-spacing:0.5px;white-space:nowrap}
        @keyframes pulse{0%,100%{opacity:1}50%{opacity:0.7}}
        
        /* Start/Live Button */
        .live-btn{padding:var(--space-2) var(--space-6);border:none;border-radius:var(--radius-full);font-size:15px;font-weight:700;display:flex;align-items:center;gap:var(--space-2);transition:all var(--transition-fast)}
        .live-btn.start{background:var(--gradient-success);color:white;box-shadow:var(--shadow-lg),var(--glow-success)}
        .live-btn.start:hover{transform:translateY(-2px);box-shadow:var(--shadow-xl),var(--glow-success)}
        .live-btn.live{background:var(--gradient-danger);color:white;animation:pulseGlow 2s infinite}
        .live-btn .live-dot{width:10px;height:10px;background:white;border-radius:50%;animation:pulse 1s infinite}
        
        /* ========== PHASE BAR - TIMELINE 90 PHÚT ========== */
        .phase-bar{height:var(--phase-bar-height);background:var(--bg-card);border-bottom:1px solid var(--border-light);display:flex;align-items:center;padding:0 var(--space-5);gap:var(--space-2)}
        .phase-timeline{display:flex;align-items:center;flex:1;gap:var(--space-1);justify-content:space-between}
        .phase-item{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);border-radius:var(--radius-lg);cursor:pointer;transition:all var(--transition-fast);position:relative;flex:1;justify-content:center;min-width:0}
        .phase-item::after{content:'';position:absolute;right:0;top:50%;transform:translateY(-50%);width:20px;height:2px;background:var(--slate-200)}
        .phase-item:last-child::after{display:none}
        .phase-item:hover{background:var(--slate-100)}
        .phase-item.active{background:var(--primary-100)}
        .phase-item.completed{opacity:0.7}
        .phase-item.completed::before{content:'✓';position:absolute;top:-4px;right:-4px;width:16px;height:16px;background:var(--success-500);color:white;font-size:10px;border-radius:50%;display:flex;align-items:center;justify-content:center}
        .phase-item.warning{animation:pulseSoft 1s infinite}
        .phase-icon{width:28px;height:28px;border-radius:var(--radius-md);display:flex;align-items:center;justify-content:center;font-size:14px;transition:all var(--transition-fast)}
        .phase-item.warmup .phase-icon{background:var(--gradient-warmup);color:white}
        .phase-item.check .phase-icon{background:var(--gradient-check);color:white}
        .phase-item.drill .phase-icon{background:var(--gradient-drill);color:white}
        .phase-item.practice .phase-icon{background:var(--gradient-practice);color:white}
        .phase-item.wrapup .phase-icon{background:var(--gradient-wrapup);color:white}
        .phase-item.active .phase-icon{transform:scale(1.1);box-shadow:var(--shadow-md)}
        .phase-info{display:flex;flex-direction:column;text-align:left}
        .phase-title{font-size:12px;font-weight:600;color:var(--text-primary)}
        .phase-item.active .phase-title{color:var(--primary-700)}
        .phase-duration{font-size:10px;color:var(--text-muted)}
        .phase-progress-mini{width:100%;height:3px;background:var(--slate-200);border-radius:2px;margin-top:var(--space-1);overflow:hidden}
        .phase-progress-mini-fill{height:100%;background:var(--primary-500);transition:width 1s linear}
        .phase-item.warmup .phase-progress-mini-fill{background:var(--tool-warmup)}
        .phase-item.check .phase-progress-mini-fill{background:var(--tool-check)}
        .phase-item.drill .phase-progress-mini-fill{background:var(--tool-drill)}
        .phase-item.practice .phase-progress-mini-fill{background:var(--tool-practice)}
        .phase-item.wrapup .phase-progress-mini-fill{background:var(--tool-wrapup)}
        .phase-nav-btns{display:flex;gap:var(--space-1)}
        .phase-nav-btn{width:32px;height:32px;border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);font-size:12px;transition:all var(--transition-fast)}
        .phase-nav-btn:hover:not(:disabled){background:var(--primary-50);border-color:var(--primary-300)}
        .phase-nav-btn:disabled{opacity:0.4;cursor:not-allowed}

        /* ========== TOOL PALETTE ========== */
        .tool-palette{width:var(--tool-palette-width);background:var(--bg-sidebar);border-right:1px solid var(--border-light);display:flex;flex-direction:column;padding:var(--space-2);gap:var(--space-1);overflow-y:auto}
        .tool-section{display:flex;flex-direction:column;gap:var(--space-1)}
        .tool-section-label{font-size:9px;font-weight:700;color:var(--text-muted);text-transform:uppercase;letter-spacing:0.5px;padding:var(--space-1) var(--space-2);margin-top:var(--space-2)}
        .tool-btn{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--space-2);border:none;background:transparent;border-radius:var(--radius-lg);cursor:pointer;transition:all var(--transition-fast);position:relative;min-height:60px;border-left:3px solid transparent}
        .tool-btn:hover{background:var(--slate-100);transform:scale(1.05)}
        .tool-btn.active{background:var(--primary-50);border-left-color:var(--primary-500)}
        .tool-btn-icon{font-size:24px;margin-bottom:2px;transition:all var(--transition-fast)}
        .tool-btn:hover .tool-btn-icon{transform:scale(1.15)}
        .tool-btn-label{font-size:9px;font-weight:600;color:var(--text-tertiary);text-align:center;line-height:1.2;max-width:100%}
        .tool-btn.active .tool-btn-label{color:var(--primary-600)}
        .tool-btn-shortcut{position:absolute;top:2px;right:4px;font-size:8px;color:var(--text-muted);font-weight:600;background:var(--slate-100);padding:1px 4px;border-radius:3px}
        .tool-divider{height:1px;background:var(--border-light);margin:var(--space-2) var(--space-1)}
        
        /* ========== MAIN CANVAS ========== */
        .main-canvas{flex:1;display:flex;flex-direction:column;overflow:hidden;background:var(--bg-main)}
        .canvas-header{padding:var(--space-3) var(--space-5);background:var(--bg-card);border-bottom:1px solid var(--border-light);display:flex;align-items:center;justify-content:space-between}
        .canvas-title-area{display:flex;align-items:center;gap:var(--space-3)}
        .canvas-icon{width:40px;height:40px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;font-size:20px}
        .canvas-title-text{display:flex;flex-direction:column}
        .canvas-title{font-size:18px;font-weight:700;color:var(--text-primary)}
        .canvas-subtitle{font-size:12px;color:var(--text-tertiary)}
        .canvas-stats{display:flex;gap:var(--space-3)}
        .stat-badge{padding:var(--space-1) var(--space-3);border-radius:var(--radius-full);font-size:12px;font-weight:600;display:flex;align-items:center;gap:var(--space-1)}
        .stat-badge.primary{background:var(--primary-100);color:var(--primary-700)}
        .stat-badge.success{background:var(--success-100);color:var(--success-700)}
        .stat-badge.warning{background:var(--warning-100);color:var(--warning-700)}
        .stat-badge.info{background:var(--info-100);color:var(--info-700)}
        .canvas-content{flex:1;overflow-y:auto;padding:var(--space-5)}
        
        /* ========== CONTENT SECTIONS ========== */
        .content-section{animation:fadeInUp 0.4s var(--ease-out)}
        .section-header{display:flex;align-items:flex-start;justify-content:space-between;margin-bottom:var(--space-5);flex-wrap:wrap;gap:var(--space-3)}
        .section-title-area{display:flex;flex-direction:column;gap:var(--space-2)}
        .section-badge{display:inline-flex;padding:var(--space-1) var(--space-3);background:var(--primary-100);color:var(--primary-700);font-size:11px;font-weight:700;border-radius:var(--radius-full);text-transform:uppercase;letter-spacing:0.5px;width:fit-content}
        .section-title{font-size:24px;font-weight:800;color:var(--text-primary);letter-spacing:-0.5px}
        .section-subtitle{font-size:14px;color:var(--text-tertiary);max-width:500px}
        
        /* ========== MINI DASHBOARD ========== */
        .mini-dashboard{display:grid;grid-template-columns:repeat(auto-fit,minmax(180px,1fr));gap:var(--space-4);margin-bottom:var(--space-5)}
        .dashboard-card{background:var(--bg-card);border-radius:var(--radius-xl);padding:var(--space-4);border:1px solid var(--border-light);display:flex;align-items:center;gap:var(--space-4);transition:all var(--transition-fast)}
        .dashboard-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--primary-200)}
        .dashboard-icon{width:52px;height:52px;border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;font-size:24px}
        .dashboard-icon.primary{background:linear-gradient(135deg,var(--primary-100),var(--primary-50))}
        .dashboard-icon.success{background:linear-gradient(135deg,var(--success-100),var(--success-50))}
        .dashboard-icon.warning{background:linear-gradient(135deg,var(--warning-100),var(--warning-50))}
        .dashboard-icon.info{background:linear-gradient(135deg,var(--info-100),var(--info-50))}
        .dashboard-icon.accent{background:linear-gradient(135deg,var(--accent-100),var(--accent-50))}
        .dashboard-content{flex:1}
        .dashboard-value{font-size:28px;font-weight:800;color:var(--text-primary)}
        .dashboard-value.good{color:var(--success-600)}
        .dashboard-value.medium{color:var(--warning-600)}
        .dashboard-value.weak{color:var(--danger-600)}
        .dashboard-label{font-size:12px;color:var(--text-muted);font-weight:500}
        .dashboard-trend{font-size:11px;font-weight:600;display:flex;align-items:center;gap:var(--space-1);margin-top:var(--space-1)}
        .dashboard-trend.up{color:var(--success-600)}
        .dashboard-trend.down{color:var(--danger-600)}
        
        /* ========== AUDIO CONTROLS ========== */
        .audio-controls{display:flex;align-items:center;gap:var(--space-5);padding:var(--space-4);background:var(--bg-card);border-radius:var(--radius-xl);border:1px solid var(--border-light);margin-bottom:var(--space-5);flex-wrap:wrap}
        .audio-group{display:flex;align-items:center;gap:var(--space-2)}
        .audio-label{font-size:11px;font-weight:700;color:var(--text-tertiary);text-transform:uppercase;letter-spacing:0.5px}
        .speed-btns{display:flex;gap:var(--space-1)}
        .speed-btn{padding:var(--space-1) var(--space-2);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);font-size:12px;font-weight:600;transition:all var(--transition-fast)}
        .speed-btn:hover{border-color:var(--primary-300);background:var(--primary-50)}
        .speed-btn.active{background:var(--primary-500);color:white;border-color:var(--primary-500)}
        .volume-control{display:flex;align-items:center;gap:var(--space-2)}
        .volume-btn{width:38px;height:38px;border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);font-size:18px;transition:all var(--transition-fast)}
        .volume-btn:hover{background:var(--slate-100)}
        .volume-btn.muted{background:var(--danger-100);border-color:var(--danger-300)}
        .volume-slider{width:100px;height:6px;-webkit-appearance:none;background:var(--slate-200);border-radius:var(--radius-full);cursor:pointer}
        .volume-slider::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;background:var(--primary-500);border-radius:50%;cursor:pointer;box-shadow:var(--shadow-md);transition:transform var(--transition-fast)}
        .volume-slider::-webkit-slider-thumb:hover{transform:scale(1.2)}
        .audio-warning{padding:var(--space-2) var(--space-3);background:var(--warning-100);border-radius:var(--radius-lg);font-size:12px;color:var(--warning-700);display:flex;align-items:center;gap:var(--space-2)}
        
        /* ========== CHOPCHEP FLOW INDICATOR ========== */
        .flow-indicator{display:flex;align-items:center;justify-content:center;gap:var(--space-1);padding:var(--space-4) var(--space-6);background:var(--bg-card);border-radius:var(--radius-2xl);border:1px solid var(--border-light);margin-bottom:var(--space-5);flex-wrap:wrap;box-shadow:var(--shadow-sm)}
        .flow-step{display:flex;flex-direction:column;align-items:center;gap:var(--space-1);padding:var(--space-2) var(--space-3);border-radius:var(--radius-xl);transition:all var(--transition-base);min-width:80px;cursor:default;position:relative}
        .flow-step::after{content:'';position:absolute;right:-12px;top:50%;transform:translateY(-50%);width:20px;height:2px;background:var(--slate-200)}
        .flow-step:last-child::after{display:none}
        .flow-step.active{background:var(--gradient-primary);transform:scale(1.08);box-shadow:var(--shadow-lg),var(--glow-primary)}
        .flow-step.active .step-num,.flow-step.active .step-icon,.flow-step.active .step-label{color:white}
        .flow-step.completed{background:var(--success-100)}
        .flow-step.completed .step-num{background:var(--success-500);color:white}
        .flow-step.completed .step-label{color:var(--success-700)}
        .flow-step.completed::after{background:var(--success-400)}
        .step-num{width:28px;height:28px;background:var(--slate-200);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;font-weight:700;color:var(--text-tertiary);transition:all var(--transition-fast)}
        .step-icon{font-size:20px;line-height:1}
        .step-label{font-size:10px;font-weight:600;color:var(--text-tertiary);text-align:center;white-space:nowrap}
        .flow-arrow{color:var(--slate-300);font-size:14px;margin:0 var(--space-1)}

        /* ========== VOCAB GRID & CARD - NÂNG CẤP ========== */
        .vocab-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:var(--space-5)}
        .vocab-card{background:var(--bg-card);border-radius:var(--radius-2xl);border:2px solid var(--border-light);overflow:hidden;transition:all var(--transition-base);position:relative}
        .vocab-card:hover{border-color:var(--primary-300);box-shadow:var(--shadow-xl);transform:translateY(-6px)}
        .vocab-card.active{border-color:var(--primary-500);box-shadow:0 0 0 4px rgba(99,102,241,0.15),var(--shadow-xl)}
        .vocab-card.completed{border-color:var(--success-400);background:linear-gradient(135deg,var(--bg-card),var(--success-50))}
        .vocab-card.speaking{animation:speaking 1.5s infinite}
        
        /* Card Header */
        .vocab-card-header{display:flex;align-items:center;justify-content:space-between;padding:var(--space-3) var(--space-4);background:linear-gradient(135deg,var(--slate-50),var(--slate-100));border-bottom:1px solid var(--border-light)}
        .vocab-number{width:40px;height:40px;background:var(--gradient-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:16px;font-weight:800;color:white;box-shadow:var(--shadow-md)}
        .vocab-card.completed .vocab-number{background:var(--gradient-success)}
        .vocab-status{padding:var(--space-1) var(--space-3);border-radius:var(--radius-full);font-size:11px;font-weight:700;display:flex;align-items:center;gap:var(--space-1)}
        .vocab-status.pending{background:var(--slate-100);color:var(--text-tertiary)}
        .vocab-status.active{background:var(--primary-100);color:var(--primary-700);animation:pulseSoft 1s infinite}
        .vocab-status.completed{background:var(--success-100);color:var(--success-700)}
        
        /* Vietnamese Section */
        .vocab-vn-section{padding:var(--space-5);background:linear-gradient(135deg,var(--primary-50),var(--accent-50))}
        .vocab-vn-flag{display:flex;align-items:center;gap:var(--space-2);font-size:11px;font-weight:700;color:var(--primary-600);text-transform:uppercase;margin-bottom:var(--space-2)}
        .vocab-vn-text{font-size:26px;font-weight:800;color:var(--text-primary);margin-bottom:var(--space-1);line-height:1.3}
        .vocab-vn-hint{font-size:13px;color:var(--text-tertiary);font-style:italic;display:flex;align-items:center;gap:var(--space-1)}
        
        /* Vietnamese Examples - PHẦN MỚI QUAN TRỌNG */
        .vocab-examples{margin-top:var(--space-4);padding:var(--space-4);background:rgba(255,255,255,0.8);border-radius:var(--radius-lg);border-left:4px solid var(--primary-400)}
        .vocab-examples-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-3)}
        .vocab-examples-title{font-size:11px;font-weight:700;color:var(--primary-600);text-transform:uppercase;display:flex;align-items:center;gap:var(--space-1)}
        .vocab-examples-count{font-size:10px;color:var(--text-muted);background:var(--slate-100);padding:2px 8px;border-radius:var(--radius-full)}
        .vocab-example-list{display:flex;flex-direction:column;gap:var(--space-2)}
        .vocab-example-item{font-size:13px;color:var(--text-secondary);padding-left:var(--space-3);position:relative;line-height:1.5}
        .vocab-example-item::before{content:"•";position:absolute;left:0;color:var(--primary-400);font-weight:bold}
        
        /* Assigned Student */
        .vocab-assigned{display:flex;align-items:center;gap:var(--space-3);margin-top:var(--space-4);padding:var(--space-3);background:rgba(255,255,255,0.9);border-radius:var(--radius-lg);border:1px solid var(--border-light)}
        .vocab-assigned-avatar{width:40px;height:40px;background:var(--gradient-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:18px;color:white;box-shadow:var(--shadow-sm)}
        .vocab-assigned-info{flex:1}
        .vocab-assigned-name{font-size:14px;font-weight:600;color:var(--text-primary)}
        .vocab-assigned-time{font-size:11px;color:var(--text-muted)}
        .vocab-assigned-rating{font-size:24px}
        
        /* Japanese Section */
        .vocab-jp-section{padding:var(--space-5)}
        
        /* JP Locked State */
        .vocab-jp-locked{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:var(--space-8);text-align:center}
        .vocab-jp-locked-icon{font-size:48px;margin-bottom:var(--space-3);animation:bounce 2s infinite}
        .vocab-jp-locked-text{font-size:14px;color:var(--text-tertiary)}
        .vocab-jp-locked-hint{font-size:12px;color:var(--text-muted);margin-top:var(--space-2)}
        
        /* JP Revealed State - NÂNG CẤP */
        .vocab-jp-revealed{text-align:center;animation:fadeInScale 0.5s var(--ease-out)}
        .vocab-jp-kanji{font-family:var(--font-jp);font-size:56px;font-weight:700;color:var(--text-primary);margin-bottom:var(--space-2);text-shadow:2px 2px 4px rgba(0,0,0,0.1)}
        .vocab-jp-hiragana{font-family:var(--font-jp);font-size:24px;color:var(--primary-600);margin-bottom:var(--space-1)}
        .vocab-jp-romaji{font-size:16px;color:var(--text-tertiary);font-style:italic;margin-bottom:var(--space-4)}
        
        /* JP Example Sentence */
        .vocab-jp-example{padding:var(--space-4);background:linear-gradient(135deg,var(--accent-50),var(--info-50));border-radius:var(--radius-lg);margin-bottom:var(--space-4);border-left:4px solid var(--accent-500);text-align:left}
        .vocab-jp-example-jp{font-family:var(--font-jp);font-size:18px;color:var(--text-primary);margin-bottom:var(--space-2);font-weight:500}
        .vocab-jp-example-vn{font-size:13px;color:var(--text-secondary)}
        .vocab-jp-example-audio{display:inline-flex;align-items:center;gap:var(--space-1);padding:var(--space-1) var(--space-3);background:var(--accent-500);color:white;border:none;border-radius:var(--radius-full);font-size:11px;font-weight:600;cursor:pointer;margin-top:var(--space-2);transition:all var(--transition-fast)}
        .vocab-jp-example-audio:hover{background:var(--accent-600);transform:scale(1.05)}
        
        /* Play Counters - LẶP LẠI 5 LẦN */
        .vocab-play-counters{display:flex;justify-content:center;gap:var(--space-8);margin:var(--space-5) 0;padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-xl)}
        .counter-group{display:flex;flex-direction:column;align-items:center;gap:var(--space-2)}
        .counter-label{font-size:11px;font-weight:700;color:var(--text-tertiary);text-transform:uppercase;display:flex;align-items:center;gap:var(--space-1)}
        .counter-dots{display:flex;gap:6px}
        .counter-dot{width:20px;height:20px;border-radius:50%;background:var(--slate-200);display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;transition:all var(--transition-fast);cursor:default}
        .counter-dot.filled{background:var(--success-500);color:white;transform:scale(1.1);box-shadow:0 0 8px var(--success-500)}
        .counter-dot.active{background:var(--warning-400);color:white;animation:dotPulse 0.8s infinite}
        .counter-dot.filled::after{content:'✓'}
        .counter-progress{font-size:12px;font-weight:700;color:var(--success-600);margin-top:var(--space-1)}
        
        /* Smart Action Button */
        .vocab-action-btn{width:100%;padding:var(--space-4);border:none;font-size:16px;font-weight:700;cursor:pointer;display:flex;align-items:center;justify-content:center;gap:var(--space-2);transition:all var(--transition-fast);position:relative;overflow:hidden}
        .vocab-action-btn::before{content:'';position:absolute;inset:0;background:linear-gradient(90deg,transparent,rgba(255,255,255,0.3),transparent);transform:translateX(-100%);transition:transform 0.5s}
        .vocab-action-btn:hover::before{transform:translateX(100%)}
        .vocab-action-btn.call{background:var(--gradient-primary);color:white;border-radius:0 0 var(--radius-2xl) var(--radius-2xl)}
        .vocab-action-btn.play{background:var(--gradient-accent);color:white;border-radius:0 0 var(--radius-2xl) var(--radius-2xl)}
        .vocab-action-btn.repeat{background:var(--gradient-success);color:white;border-radius:0 0 var(--radius-2xl) var(--radius-2xl)}
        .vocab-action-btn.confirm{background:var(--gradient-gold);color:white;border-radius:0 0 var(--radius-2xl) var(--radius-2xl)}
        .vocab-action-btn.done{background:var(--slate-200);color:var(--text-tertiary);cursor:default;border-radius:0 0 var(--radius-2xl) var(--radius-2xl)}
        .vocab-action-btn:not(.done):hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
        .vocab-action-btn:not(.done):active{transform:translateY(0)}
        .vocab-action-btn-icon{font-size:20px}
        .vocab-action-btn-shortcut{font-size:11px;opacity:0.8;margin-left:auto;background:rgba(255,255,255,0.2);padding:2px 8px;border-radius:var(--radius-sm)}

        /* ========== STUDENT PANEL ========== */
        .student-panel{width:var(--student-panel-width);background:var(--bg-sidebar);border-left:1px solid var(--border-light);display:flex;flex-direction:column;transition:width var(--transition-base);max-height:calc(100vh - 150px);overflow-y:auto}
        .student-panel.collapsed{width:var(--student-panel-collapsed)}
        .panel-header{padding:var(--space-4);border-bottom:1px solid var(--border-light);display:flex;align-items:center;justify-content:space-between}
        .panel-title{display:flex;align-items:center;gap:var(--space-2);font-size:15px;font-weight:700}
        .panel-count{padding:var(--space-1) var(--space-2);background:var(--primary-100);color:var(--primary-700);font-size:12px;font-weight:700;border-radius:var(--radius-full)}
        .panel-toggle{width:32px;height:32px;border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);font-size:12px;transition:all var(--transition-fast)}
        .panel-toggle:hover{background:var(--primary-50);border-color:var(--primary-300)}
        
        /* Filter Tabs */
        .filter-tabs{display:flex;gap:var(--space-2);padding:var(--space-3) var(--space-4);border-bottom:1px solid var(--border-light);overflow-x:auto}
        .filter-tab{padding:var(--space-2) var(--space-4);background:var(--slate-100);border:none;border-radius:var(--radius-lg);font-size:13px;font-weight:600;cursor:pointer;white-space:nowrap;transition:all var(--transition-fast)}
        .filter-tab:hover{background:var(--slate-200);transform:translateY(-1px);box-shadow:var(--shadow-sm)}
        .filter-tab.active{background:var(--primary-500);color:white;box-shadow:var(--shadow-md)}
        
        /* Quick Actions */
        .quick-actions{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-3);padding:var(--space-4);border-bottom:1px solid var(--border-light);background:var(--slate-50)}
        .quick-btn{padding:var(--space-3) var(--space-2);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);font-size:12px;font-weight:700;display:flex;flex-direction:column;align-items:center;gap:var(--space-2);transition:all var(--transition-fast);cursor:pointer}
        .quick-btn:hover{background:var(--primary-50);border-color:var(--primary-400);transform:translateY(-3px);box-shadow:var(--shadow-lg)}
        .quick-btn:active{transform:translateY(-1px)}
        .quick-btn-icon{font-size:22px}
        
        /* AI Suggestion */
        .ai-suggestion{margin:var(--space-4);padding:var(--space-5);background:linear-gradient(135deg,var(--info-50),var(--primary-50));border-radius:var(--radius-2xl);border:2px solid var(--info-300);animation:fadeInUp 0.4s var(--ease-out);box-shadow:var(--shadow-md)}
        .ai-suggestion-header{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-3)}
        .ai-suggestion-icon{font-size:24px;animation:float 3s ease-in-out infinite}
        .ai-suggestion-title{font-size:14px;font-weight:700;color:var(--info-700)}
        .ai-suggestion-content{font-size:14px;color:var(--text-primary);margin-bottom:var(--space-4);line-height:1.5}
        .ai-suggestion-btn{width:100%;padding:var(--space-3);background:var(--gradient-info);color:white;border:none;border-radius:var(--radius-lg);font-size:13px;font-weight:700;transition:all var(--transition-fast);cursor:pointer;box-shadow:var(--shadow-sm)}
        .ai-suggestion-btn:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
        .ai-suggestion-btn:active{transform:translateY(0)}
        
        /* Student List */
        .student-list{flex:1;overflow-y:auto;padding:var(--space-3)}
        .student-card{padding:var(--space-4);background:var(--bg-card);border:2px solid var(--border-light);border-radius:var(--radius-2xl);margin-bottom:var(--space-3);cursor:pointer;transition:all var(--transition-fast);position:relative}
        .student-card:hover{border-color:var(--primary-400);box-shadow:var(--shadow-lg);transform:translateX(-4px)}
        .student-card.selected{border-color:var(--primary-600);background:var(--primary-50);box-shadow:var(--shadow-xl)}
        .student-card.speaking{animation:speaking 1.5s infinite;border-color:var(--success-500);box-shadow:var(--glow-success)}
        .student-card.weak{border-left:5px solid var(--danger-500)}
        .student-card.not-called{border-left:5px solid var(--warning-500)}

        /* Called Badge */
        .called-badge{position:absolute;top:var(--space-3);right:var(--space-3);padding:4px var(--space-3);border-radius:var(--radius-full);font-size:11px;font-weight:700;box-shadow:var(--shadow-sm)}
        .called-badge.called{background:var(--success-100);color:var(--success-800);border:1px solid var(--success-300)}
        .called-badge.not-called{background:var(--warning-100);color:var(--warning-800);border:1px solid var(--warning-300)}
        
        /* Student Main Info */
        .student-main{display:flex;align-items:center;gap:var(--space-3)}
        .student-avatar{width:48px;height:48px;background:var(--gradient-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:20px;color:white;position:relative;transition:transform var(--transition-fast)}
        .student-card:hover .student-avatar{transform:scale(1.1)}
        .student-status-dot{position:absolute;bottom:0;right:0;width:14px;height:14px;border-radius:50%;border:2px solid white}
        .student-status-dot.online{background:var(--success-500);box-shadow:0 0 6px var(--success-500)}
        .student-status-dot.away{background:var(--warning-500)}
        .student-status-dot.offline{background:var(--slate-400)}
        .student-info{flex:1;min-width:0}
        .student-name{font-size:15px;font-weight:700;display:flex;align-items:center;gap:var(--space-2)}
        .student-rank{font-size:16px}
        .student-status-text{font-size:12px;color:var(--text-muted);display:flex;align-items:center;gap:var(--space-2);margin-top:2px}
        .student-icons{display:flex;gap:var(--space-2)}
        .student-icons span{opacity:0.4;font-size:14px;transition:opacity var(--transition-fast)}
        .student-icons span.on{opacity:1}
        
        /* Student Metrics */
        .student-metrics{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-2);margin-top:var(--space-3);padding-top:var(--space-3);border-top:1px solid var(--border-light)}
        .metric{text-align:center}
        .metric-value{font-size:16px;font-weight:700}
        .metric-value.good{color:var(--success-600)}
        .metric-value.medium{color:var(--warning-600)}
        .metric-value.weak{color:var(--danger-600)}
        .metric-label{font-size:9px;color:var(--text-muted);text-transform:uppercase;font-weight:600}
        
        /* Student History */
        .student-history{margin-top:var(--space-3);padding-top:var(--space-3);border-top:1px dashed var(--border-light)}
        .history-item{display:flex;align-items:center;gap:var(--space-2);font-size:11px;color:var(--text-tertiary);margin-bottom:var(--space-1)}
        .history-word{font-weight:600;color:var(--text-secondary)}
        .history-rating{font-size:14px}
        
        /* Collapsed Panel */
        .collapsed-panel{display:flex;flex-direction:column;align-items:center;padding:var(--space-2);gap:var(--space-2)}
        .collapsed-btn{width:44px;height:44px;border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-lg);font-size:18px;transition:all var(--transition-fast)}
        .collapsed-btn:hover{background:var(--primary-50);border-color:var(--primary-300);transform:scale(1.1)}
        .collapsed-count{font-size:12px;font-weight:700;color:var(--text-secondary);margin-top:var(--space-2)}
        .collapsed-avatars{display:flex;flex-direction:column;gap:var(--space-1);margin-top:var(--space-2)}
        .collapsed-avatar{width:40px;height:40px;background:var(--gradient-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;color:white;border:2px solid white;box-shadow:var(--shadow-sm);cursor:pointer;transition:all var(--transition-fast)}
        .collapsed-avatar:hover{transform:scale(1.15)}
        .collapsed-avatar.weak{border-color:var(--danger-400)}

        /* ========== BOTTOM CONTROLLER ========== */
        .bottom-controller{height:var(--bottom-height);background:var(--bg-header);border-top:1px solid var(--border-light);display:flex;align-items:center;justify-content:space-between;padding:0 var(--space-5);gap:var(--space-4)}
        .ctrl-section{display:flex;align-items:center;gap:var(--space-4)}
        .ctrl-phase-badge{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);border-radius:var(--radius-xl);font-size:14px;font-weight:600;color:white}
        .ctrl-phase-badge.warmup{background:var(--gradient-warmup)}
        .ctrl-phase-badge.check{background:var(--gradient-check)}
        .ctrl-phase-badge.drill{background:var(--gradient-drill)}
        .ctrl-phase-badge.practice{background:var(--gradient-practice)}
        .ctrl-phase-badge.wrapup{background:var(--gradient-wrapup)}
        .ctrl-phase-nav{display:flex;gap:var(--space-1);margin-left:var(--space-2)}
        .ctrl-phase-nav-btn{width:28px;height:28px;border:none;background:rgba(255,255,255,0.2);border-radius:var(--radius-md);color:white;font-size:10px;transition:all var(--transition-fast)}
        .ctrl-phase-nav-btn:hover:not(:disabled){background:rgba(255,255,255,0.3)}
        .ctrl-phase-nav-btn:disabled{opacity:0.5;cursor:not-allowed}
        
        .ctrl-progress{display:flex;align-items:center;gap:var(--space-3)}
        .ctrl-progress-text{font-size:14px;font-weight:700;color:var(--text-secondary)}
        .ctrl-progress-bar{width:200px;height:10px;background:var(--slate-200);border-radius:var(--radius-full);overflow:hidden}
        .ctrl-progress-fill{height:100%;background:var(--gradient-success);border-radius:var(--radius-full);transition:width var(--transition-base)}
        
        .ctrl-summary{display:flex;gap:var(--space-4)}
        .summary-item{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-3);background:var(--slate-50);border-radius:var(--radius-lg)}
        .summary-icon{font-size:16px}
        .summary-value{font-size:16px;font-weight:700}
        .summary-value.good{color:var(--success-600)}
        .summary-label{font-size:11px;color:var(--text-muted)}
        
        .ctrl-actions{display:flex;gap:var(--space-2)}
        .ctrl-btn{padding:var(--space-2) var(--space-4);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-lg);font-size:13px;font-weight:600;display:flex;align-items:center;gap:var(--space-2);transition:all var(--transition-fast)}
        .ctrl-btn:hover{background:var(--slate-100);transform:translateY(-2px)}
        .ctrl-btn.danger{background:var(--danger-100);border-color:var(--danger-200);color:var(--danger-700)}
        .ctrl-btn.danger:hover{background:var(--danger-200)}
        
        /* ========== MODALS ========== */
        .modal-overlay{position:fixed;inset:0;background:rgba(15,23,42,0.7);backdrop-filter:blur(8px);display:flex;align-items:center;justify-content:center;z-index:1000;animation:fadeIn 0.2s var(--ease-out)}
        .modal-content{background:var(--bg-card);border-radius:var(--radius-2xl);width:100%;max-width:520px;max-height:90vh;overflow:hidden;animation:bounceIn 0.4s var(--ease-bounce);box-shadow:var(--shadow-2xl)}
        .modal-header{padding:var(--space-5);border-bottom:1px solid var(--border-light);display:flex;align-items:center;gap:var(--space-4);background:linear-gradient(135deg,var(--primary-50),var(--accent-50))}
        .modal-avatar{width:72px;height:72px;background:var(--gradient-primary);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:32px;color:white;animation:bounce 1s infinite;box-shadow:var(--shadow-lg)}
        .modal-info{flex:1}
        .modal-student-name{font-size:20px;font-weight:700}
        .modal-word-badge{display:inline-flex;padding:var(--space-1) var(--space-3);background:var(--primary-100);color:var(--primary-700);font-size:13px;font-weight:600;border-radius:var(--radius-md);margin-top:var(--space-2)}
        .modal-body{padding:var(--space-5)}
        .modal-title{font-size:16px;font-weight:700;text-align:center;margin-bottom:var(--space-4)}
        
        /* Common Issues */
        .issues-grid{display:flex;flex-wrap:wrap;gap:var(--space-2);margin-bottom:var(--space-4)}
        .issue-chip{padding:var(--space-2) var(--space-3);background:var(--slate-100);border:1px solid var(--border-light);border-radius:var(--radius-full);font-size:12px;font-weight:500;cursor:pointer;transition:all var(--transition-fast)}
        .issue-chip:hover{background:var(--slate-200);transform:scale(1.05)}
        .issue-chip.selected{background:var(--primary-100);border-color:var(--primary-300);color:var(--primary-700)}
        
        /* Quick Note */
        .quick-note{width:100%;padding:var(--space-3);border:1px solid var(--border-light);border-radius:var(--radius-lg);font-size:14px;resize:none;margin-bottom:var(--space-4);transition:all var(--transition-fast)}
        .quick-note:focus{outline:none;border-color:var(--primary-400);box-shadow:0 0 0 4px rgba(99,102,241,0.1)}
        
        /* Rating Buttons */
        .rating-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-3)}
        .rating-btn{padding:var(--space-4);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;text-align:center;transition:all var(--transition-fast)}
        .rating-btn:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}
        .rating-btn.excellent{border-color:var(--success-300)}
        .rating-btn.excellent:hover{background:var(--success-50);border-color:var(--success-500)}
        .rating-btn.good{border-color:var(--info-300)}
        .rating-btn.good:hover{background:var(--info-50);border-color:var(--info-500)}
        .rating-btn.fair{border-color:var(--warning-300)}
        .rating-btn.fair:hover{background:var(--warning-50);border-color:var(--warning-500)}
        .rating-btn.weak{border-color:var(--danger-300)}
        .rating-btn.weak:hover{background:var(--danger-50);border-color:var(--danger-500)}
        .rating-icon{font-size:40px;margin-bottom:var(--space-2)}
        .rating-label{font-size:15px;font-weight:700}
        .rating-range{font-size:12px;color:var(--text-muted)}
        .rating-key{font-size:10px;color:var(--text-muted);margin-top:var(--space-1);padding:2px 8px;background:var(--slate-100);border-radius:var(--radius-sm);display:inline-block}
        .modal-footer{padding:var(--space-4);border-top:1px solid var(--border-light);display:flex;justify-content:center}
        .modal-skip{padding:var(--space-2) var(--space-5);background:var(--slate-100);border:none;border-radius:var(--radius-lg);font-size:14px;font-weight:500;cursor:pointer;color:var(--text-secondary);transition:all var(--transition-fast)}
        .modal-skip:hover{background:var(--slate-200)}
        
        /* Shortcuts Modal */
        .shortcuts-modal{max-width:560px}
        .shortcuts-title{font-size:20px;font-weight:700;padding:var(--space-5);border-bottom:1px solid var(--border-light);display:flex;align-items:center;gap:var(--space-2)}
        .shortcuts-body{padding:var(--space-5);max-height:60vh;overflow-y:auto}
        .shortcuts-section{margin-bottom:var(--space-5)}
        .shortcuts-section:last-child{margin-bottom:0}
        .shortcuts-section-title{font-size:12px;font-weight:700;color:var(--text-tertiary);text-transform:uppercase;margin-bottom:var(--space-3);letter-spacing:0.5px}
        .shortcut-row{display:flex;align-items:center;justify-content:space-between;padding:var(--space-2) 0;border-bottom:1px solid var(--border-light)}
        .shortcut-row:last-child{border-bottom:none}
        .shortcut-keys{display:flex;gap:var(--space-1)}
        .shortcut-key{padding:var(--space-1) var(--space-2);background:var(--slate-100);border:1px solid var(--border-medium);border-radius:var(--radius-md);font-size:12px;font-family:monospace;font-weight:700}
        .shortcut-desc{font-size:13px;color:var(--text-secondary)}
        
        /* ========== TOAST NOTIFICATIONS ========== */
        .toast-container{position:fixed;top:80px;right:var(--space-5);display:flex;flex-direction:column;gap:var(--space-3);z-index:1001}
        .toast{display:flex;align-items:flex-start;gap:var(--space-3);padding:var(--space-4);background:var(--bg-card);border-radius:var(--radius-xl);box-shadow:var(--shadow-xl);border-left:4px solid;min-width:320px;max-width:450px;animation:slideInRight 0.4s var(--ease-out)}
        .toast.success{border-color:var(--success-500)}
        .toast.error{border-color:var(--danger-500)}
        .toast.warning{border-color:var(--warning-500)}
        .toast.info{border-color:var(--info-500)}
        .toast-icon{font-size:24px;flex-shrink:0}
        .toast-content{flex:1;min-width:0}
        .toast-title{font-size:14px;font-weight:700}
        .toast-message{font-size:13px;color:var(--text-secondary);margin-top:var(--space-1)}
        .toast-close{background:none;border:none;font-size:20px;cursor:pointer;color:var(--text-muted);padding:0;transition:color var(--transition-fast)}
        .toast-close:hover{color:var(--text-primary)}

        /* ========== EXTENDED TOOLS CSS ========== */
        
        /* Grammar Tool */
        .grammar-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(380px,1fr));gap:var(--space-5)}
        .grammar-card{background:var(--bg-card);border-radius:var(--radius-2xl);overflow:hidden;border:2px solid var(--border-light);transition:all var(--transition-base)}
        .grammar-card:hover{border-color:var(--tool-grammar);box-shadow:var(--shadow-xl);transform:translateY(-4px)}
        .grammar-header{padding:var(--space-5);background:linear-gradient(135deg,rgba(139,92,246,0.1),rgba(139,92,246,0.05));border-bottom:1px solid var(--border-light)}
        .grammar-pattern{font-family:var(--font-jp);font-size:28px;font-weight:700;color:var(--tool-grammar);margin-bottom:var(--space-2)}
        .grammar-meaning{font-size:16px;color:var(--text-secondary);font-weight:500}
        .grammar-body{padding:var(--space-5)}
        .grammar-structure{padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-lg);margin-bottom:var(--space-4);font-family:monospace;font-size:14px;border-left:4px solid var(--tool-grammar)}
        .grammar-explanation{font-size:14px;color:var(--text-secondary);line-height:1.7;margin-bottom:var(--space-4);padding:var(--space-4);background:var(--info-50);border-radius:var(--radius-lg)}
        .grammar-examples{display:flex;flex-direction:column;gap:var(--space-3)}
        .grammar-example{padding:var(--space-4);background:var(--primary-50);border-radius:var(--radius-lg);border-left:4px solid var(--tool-grammar);transition:all var(--transition-fast)}
        .grammar-example:hover{transform:translateX(4px);box-shadow:var(--shadow-sm)}
        .grammar-example-jp{font-family:var(--font-jp);font-size:17px;margin-bottom:var(--space-2);color:var(--text-primary)}
        .grammar-example-vn{font-size:13px;color:var(--text-tertiary);padding-left:var(--space-3);border-left:2px solid var(--slate-200)}
        .grammar-example-audio{padding:var(--space-2) var(--space-4);background:var(--tool-grammar);color:white;border:none;border-radius:var(--radius-full);font-size:12px;font-weight:600;cursor:pointer;margin-top:var(--space-3);display:inline-flex;align-items:center;gap:var(--space-1);transition:all var(--transition-fast)}
        .grammar-example-audio:hover{transform:scale(1.05);box-shadow:var(--shadow-md)}
        
        /* Rapid Fire Tool */
        .rapid-container,.quiz-container,.pronun-container{max-width:800px;margin:0 auto}
        .rapid-settings{display:flex;gap:var(--space-4);margin-bottom:var(--space-5);justify-content:center;flex-wrap:wrap}
        .rapid-setting{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-4);background:var(--slate-100);border-radius:var(--radius-xl)}
        .rapid-setting-label{font-size:13px;color:var(--text-tertiary);font-weight:500}
        .rapid-setting select{padding:var(--space-2) var(--space-3);border:1px solid var(--border-light);border-radius:var(--radius-md);font-size:13px;background:white;cursor:pointer}
        .rapid-display{text-align:center;padding:var(--space-10);background:var(--bg-card);border-radius:var(--radius-2xl);border:2px solid var(--border-light);margin-bottom:var(--space-5);transition:all var(--transition-base)}
        .rapid-display:hover{border-color:var(--tool-rapid);box-shadow:var(--shadow-lg)}
        .rapid-question{font-size:56px;font-weight:800;min-height:100px;display:flex;align-items:center;justify-content:center;animation:fadeInScale 0.3s var(--ease-out)}
        .rapid-question.jp{font-family:var(--font-jp)}
        .rapid-answer{font-size:40px;color:var(--success-600);margin-top:var(--space-5);animation:bounceIn 0.5s var(--ease-bounce)}
        .rapid-countdown{font-size:100px;font-weight:800;color:var(--tool-rapid);animation:countDown 1s infinite}
        .rapid-timer{font-size:28px;font-weight:800;margin-bottom:var(--space-4)}
        .rapid-timer.danger{color:var(--danger-600);animation:pulseSoft 0.5s infinite}
        .rapid-controls{display:flex;gap:var(--space-3);justify-content:center;flex-wrap:wrap}
        .rapid-btn{padding:var(--space-3) var(--space-6);border:none;border-radius:var(--radius-xl);font-size:16px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:var(--space-2);transition:all var(--transition-fast)}
        .rapid-btn:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg)}
        .rapid-btn:active{transform:translateY(0)}
        .rapid-btn.start{background:var(--gradient-primary);color:white}
        .rapid-btn.reveal{background:var(--gradient-info);color:white}
        .rapid-btn.correct{background:var(--gradient-success);color:white}
        .rapid-btn.wrong{background:var(--gradient-danger);color:white}
        .rapid-btn.next{background:var(--gradient-accent);color:white}
        .rapid-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-4);padding:var(--space-5);background:var(--slate-50);border-radius:var(--radius-2xl);margin-top:var(--space-5)}
        .rapid-stat{text-align:center;padding:var(--space-4);background:var(--bg-card);border-radius:var(--radius-xl)}
        .rapid-stat-value{font-size:36px;font-weight:800}
        .rapid-stat-value.correct{color:var(--success-600)}
        .rapid-stat-value.wrong{color:var(--danger-600)}
        .rapid-stat-value.total{color:var(--info-600)}
        .rapid-stat-label{font-size:12px;color:var(--text-muted);text-transform:uppercase;font-weight:600;margin-top:var(--space-1)}
        
        /* Roleplay Tool */
        .roleplay-container,.situation-container{max-width:1000px;margin:0 auto}
        .roleplay-scenarios,.situation-tabs{display:flex;gap:var(--space-2);margin-bottom:var(--space-5);flex-wrap:wrap;justify-content:center}
        .scenario-tab,.situation-tab{padding:var(--space-3) var(--space-5);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;display:flex;align-items:center;gap:var(--space-2);font-weight:600;transition:all var(--transition-fast)}
        .scenario-tab:hover{border-color:var(--tool-roleplay);transform:translateY(-2px)}
        .situation-tab:hover{border-color:var(--tool-situation);transform:translateY(-2px)}
        .scenario-tab.active{background:var(--tool-roleplay);color:white;border-color:var(--tool-roleplay);box-shadow:var(--shadow-md)}
        .situation-tab.active{background:var(--tool-situation);color:white;border-color:var(--tool-situation);box-shadow:var(--shadow-md)}
        .roleplay-dialogue{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:1px solid var(--border-light)}
        .dialogue-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-5);padding-bottom:var(--space-4);border-bottom:1px solid var(--border-light)}
        .dialogue-title{font-size:20px;font-weight:700;display:flex;align-items:center;gap:var(--space-2)}
        .dialogue-context{font-size:14px;color:var(--text-tertiary);padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-lg);margin-bottom:var(--space-5)}
        .dialogue-lines{display:flex;flex-direction:column;gap:var(--space-4)}
        .dialogue-line{display:flex;gap:var(--space-4);padding:var(--space-5);border-radius:var(--radius-xl);animation:fadeInUp 0.4s var(--ease-out)}
        .dialogue-line.customer{background:linear-gradient(135deg,var(--primary-50),var(--primary-100))}
        .dialogue-line.staff{background:linear-gradient(135deg,var(--accent-50),var(--accent-100));flex-direction:row-reverse}
        .dialogue-avatar{width:56px;height:56px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:28px;flex-shrink:0;box-shadow:var(--shadow-md)}
        .dialogue-line.customer .dialogue-avatar{background:var(--gradient-primary)}
        .dialogue-line.staff .dialogue-avatar{background:var(--gradient-accent)}
        .dialogue-content{flex:1}
        .dialogue-role{font-size:11px;font-weight:700;text-transform:uppercase;margin-bottom:var(--space-1);color:var(--text-tertiary);letter-spacing:0.5px}
        .dialogue-jp{font-family:var(--font-jp);font-size:18px;font-weight:500;margin-bottom:var(--space-2)}
        .dialogue-vn{font-size:14px;color:var(--text-secondary);padding-left:var(--space-3);border-left:2px solid rgba(0,0,0,0.1)}
        .dialogue-actions{display:flex;gap:var(--space-2);margin-top:var(--space-3)}
        .dialogue-btn{padding:var(--space-2) var(--space-4);border:none;border-radius:var(--radius-full);font-size:12px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:var(--space-1);transition:all var(--transition-fast)}
        .dialogue-btn.play{background:var(--primary-100);color:var(--primary-700)}
        .dialogue-btn.slow{background:var(--accent-100);color:var(--accent-700)}
        .dialogue-btn:hover{transform:scale(1.05)}

        /* Quiz Tool */
        .quiz-question-card{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:2px solid var(--border-light);margin-bottom:var(--space-5);transition:all var(--transition-base)}
        .quiz-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-5)}
        .quiz-question-num{font-size:14px;font-weight:700;color:var(--tool-quiz);background:var(--success-50);padding:var(--space-2) var(--space-4);border-radius:var(--radius-full)}
        .quiz-timer{font-size:16px;font-weight:700;color:var(--text-secondary);display:flex;align-items:center;gap:var(--space-2)}
        .quiz-timer.danger{color:var(--danger-600);animation:pulseSoft 0.5s infinite}
        .quiz-timer-bar{width:120px;height:8px;background:var(--slate-200);border-radius:var(--radius-full);overflow:hidden}
        .quiz-timer-fill{height:100%;background:var(--tool-quiz);transition:width 1s linear}
        .quiz-timer.danger .quiz-timer-fill{background:var(--danger-500)}
        .quiz-question-text{font-size:24px;font-weight:700;margin-bottom:var(--space-6);text-align:center}
        .quiz-question-text.jp{font-family:var(--font-jp)}
        .quiz-options{display:flex;flex-direction:column;gap:var(--space-3)}
        .quiz-option{padding:var(--space-4);background:var(--slate-50);border:2px solid var(--border-light);border-radius:var(--radius-xl);cursor:pointer;display:flex;align-items:center;gap:var(--space-4);transition:all var(--transition-fast)}
        .quiz-option:hover:not(.disabled){border-color:var(--tool-quiz);background:rgba(16,185,129,0.05);transform:translateX(4px)}
        .quiz-option.selected{border-color:var(--tool-quiz);background:var(--success-50)}
        .quiz-option.correct{border-color:var(--success-500);background:var(--success-100)}
        .quiz-option.wrong{border-color:var(--danger-500);background:var(--danger-100);animation:shake 0.5s ease}
        .quiz-option.disabled{cursor:default}
        .quiz-option-letter{width:40px;height:40px;background:var(--slate-200);border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:16px;flex-shrink:0;transition:all var(--transition-fast)}
        .quiz-option.selected .quiz-option-letter{background:var(--tool-quiz);color:white}
        .quiz-option.correct .quiz-option-letter{background:var(--success-500);color:white}
        .quiz-option.wrong .quiz-option-letter{background:var(--danger-500);color:white}
        .quiz-option-text{flex:1;font-size:16px}
        .quiz-option-text.jp{font-family:var(--font-jp)}
        .quiz-submit{width:100%;padding:var(--space-4);background:var(--gradient-success);color:white;border:none;border-radius:var(--radius-xl);font-size:16px;font-weight:700;cursor:pointer;margin-top:var(--space-4);transition:all var(--transition-fast)}
        .quiz-submit:hover:not(:disabled){transform:translateY(-2px);box-shadow:var(--shadow-lg)}
        .quiz-submit:disabled{opacity:0.5;cursor:not-allowed}
        .quiz-result{text-align:center;padding:var(--space-10);background:var(--bg-card);border-radius:var(--radius-2xl);border:2px solid var(--border-light);animation:bounceIn 0.5s var(--ease-bounce)}
        .quiz-result-icon{font-size:72px;margin-bottom:var(--space-4)}
        .quiz-result-score{font-size:56px;font-weight:800;margin-bottom:var(--space-2)}
        .quiz-result-score.excellent{color:var(--success-600)}
        .quiz-result-score.good{color:var(--info-600)}
        .quiz-result-score.fair{color:var(--warning-600)}
        .quiz-result-score.poor{color:var(--danger-600)}
        .quiz-result-label{font-size:20px;color:var(--text-secondary);margin-bottom:var(--space-5)}
        .quiz-result-stats{display:flex;justify-content:center;gap:var(--space-8);margin-bottom:var(--space-6)}
        .quiz-result-stat{text-align:center}
        .quiz-result-stat-value{font-size:32px;font-weight:800}
        .quiz-result-stat-label{font-size:13px;color:var(--text-muted)}
        .quiz-retry{padding:var(--space-3) var(--space-8);background:var(--gradient-primary);color:white;border:none;border-radius:var(--radius-xl);font-size:16px;font-weight:700;cursor:pointer;transition:all var(--transition-fast)}
        .quiz-retry:hover{transform:scale(1.05);box-shadow:var(--shadow-lg)}
        
        /* Situation Tool */
        .situation-phrases{display:grid;grid-template-columns:repeat(auto-fill,minmax(440px,1fr));gap:var(--space-5)}
        .phrase-card{padding:var(--space-5);background:linear-gradient(135deg,var(--warning-50),var(--slate-50));border-radius:var(--radius-2xl);border:1px solid var(--warning-200);transition:all var(--transition-fast)}
        .phrase-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--tool-situation)}
        .phrase-header{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-4)}
        .phrase-number{width:36px;height:36px;background:var(--tool-situation);color:white;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:15px;font-weight:800}
        .phrase-context{font-size:12px;color:var(--tool-situation);font-weight:700;text-transform:uppercase}
        .phrase-jp{font-family:var(--font-jp);font-size:22px;font-weight:500;margin-bottom:var(--space-2)}
        .phrase-romaji{font-size:14px;color:var(--text-muted);font-style:italic;margin-bottom:var(--space-2)}
        .phrase-vn{font-size:15px;color:var(--text-secondary);margin-bottom:var(--space-3);padding:var(--space-3);background:rgba(255,255,255,0.8);border-radius:var(--radius-lg)}
        .phrase-note{font-size:12px;color:var(--warning-700);background:var(--warning-100);padding:var(--space-1) var(--space-3);border-radius:var(--radius-full);display:inline-flex;align-items:center;gap:var(--space-1)}
        .phrase-actions{display:flex;gap:var(--space-2);margin-top:var(--space-4)}
        .phrase-btn{padding:var(--space-2) var(--space-4);border:none;border-radius:var(--radius-full);font-size:13px;font-weight:600;cursor:pointer;display:flex;align-items:center;gap:var(--space-1);transition:all var(--transition-fast)}
        .phrase-btn.play{background:var(--tool-situation);color:white}
        .phrase-btn.slow{background:var(--warning-100);color:var(--warning-700)}
        .phrase-btn:hover{transform:scale(1.05)}
        
        /* Pronunciation Tool */
        .pronun-selector{display:flex;flex-wrap:wrap;gap:var(--space-2);margin-bottom:var(--space-5);justify-content:center}
        .pronun-word-btn{padding:var(--space-3) var(--space-5);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-family:var(--font-jp);font-size:20px;transition:all var(--transition-fast)}
        .pronun-word-btn:hover{border-color:var(--tool-pronun);transform:scale(1.05)}
        .pronun-word-btn.active{background:var(--tool-pronun);color:white;border-color:var(--tool-pronun);box-shadow:var(--shadow-md)}
        .pronun-display{text-align:center;padding:var(--space-10);background:var(--bg-card);border-radius:var(--radius-2xl);border:2px solid var(--border-light);margin-bottom:var(--space-5);transition:all var(--transition-base)}
        .pronun-display:hover{border-color:var(--tool-pronun);box-shadow:var(--shadow-lg)}
        .pronun-kanji{font-family:var(--font-jp);font-size:88px;font-weight:700;margin-bottom:var(--space-3);color:var(--text-primary)}
        .pronun-hiragana{font-family:var(--font-jp);font-size:36px;color:var(--tool-pronun);margin-bottom:var(--space-2)}
        .pronun-romaji{font-size:22px;color:var(--text-tertiary);font-style:italic;margin-bottom:var(--space-4)}
        .pronun-meaning{font-size:18px;color:var(--text-secondary);padding:var(--space-4);background:var(--accent-50);border-radius:var(--radius-xl);margin-bottom:var(--space-5)}
        .pronun-waveform{height:60px;display:flex;align-items:center;justify-content:center;gap:4px;margin-bottom:var(--space-5)}
        .pronun-wave-bar{width:6px;background:var(--tool-pronun);border-radius:3px;animation:soundWave 1s infinite ease-in-out}
        .pronun-wave-bar:nth-child(1){animation-delay:0s}
        .pronun-wave-bar:nth-child(2){animation-delay:0.1s}
        .pronun-wave-bar:nth-child(3){animation-delay:0.2s}
        .pronun-wave-bar:nth-child(4){animation-delay:0.3s}
        .pronun-wave-bar:nth-child(5){animation-delay:0.4s}
        .pronun-controls{display:flex;gap:var(--space-3);justify-content:center;flex-wrap:wrap}
        .pronun-btn{padding:var(--space-3) var(--space-6);border:none;border-radius:var(--radius-xl);font-size:16px;font-weight:700;cursor:pointer;display:flex;align-items:center;gap:var(--space-2);transition:all var(--transition-fast)}
        .pronun-btn:hover{transform:translateY(-3px);box-shadow:var(--shadow-lg)}
        .pronun-btn.listen{background:var(--gradient-info);color:white}
        .pronun-btn.record{background:var(--gradient-danger);color:white}
        .pronun-btn.record.recording{animation:recording 1s infinite}
        
        /* Placeholder Content */
        .placeholder-content{text-align:center;padding:var(--space-12);background:var(--bg-card);border-radius:var(--radius-2xl);border:2px dashed var(--border-medium)}
        .placeholder-icon{font-size:72px;margin-bottom:var(--space-5);animation:float 3s ease-in-out infinite}
        .placeholder-text{font-size:20px;color:var(--text-tertiary);font-weight:600}
        .placeholder-subtext{font-size:14px;color:var(--text-muted);margin-top:var(--space-2)}

        /* Warmup Tool - Khởi động */
        .warmup-container{max-width:900px;margin:0 auto}
        .warmup-greeting{text-align:center;padding:var(--space-8);background:linear-gradient(135deg,var(--warning-50),var(--accent-50));border-radius:var(--radius-2xl);margin-bottom:var(--space-5)}
        .warmup-greeting-jp{font-family:var(--font-jp);font-size:48px;font-weight:700;margin-bottom:var(--space-3);color:var(--tool-warmup)}
        .warmup-greeting-vn{font-size:18px;color:var(--text-secondary)}
        .warmup-activities{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:var(--space-4)}
        .warmup-activity{padding:var(--space-5);background:var(--bg-card);border-radius:var(--radius-xl);border:2px solid var(--border-light);transition:all var(--transition-fast);cursor:pointer}
        .warmup-activity:hover{border-color:var(--tool-warmup);transform:translateY(-4px);box-shadow:var(--shadow-lg)}
        .warmup-activity-icon{font-size:40px;margin-bottom:var(--space-3)}
        .warmup-activity-title{font-size:16px;font-weight:700;margin-bottom:var(--space-2)}
        .warmup-activity-desc{font-size:13px;color:var(--text-tertiary)}
    


/* ========== ADDITIONAL CSS - LISTENING TOOL ========== */
.listening-container{max-width:900px;margin:0 auto}
.listening-player{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:2px solid var(--border-light);margin-bottom:var(--space-5)}
.listening-player-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-5)}
.listening-title{font-size:20px;font-weight:700;display:flex;align-items:center;gap:var(--space-2)}
.listening-duration{padding:var(--space-1) var(--space-3);background:var(--slate-100);border-radius:var(--radius-full);font-size:13px;color:var(--text-tertiary)}
.listening-waveform{height:80px;background:var(--slate-50);border-radius:var(--radius-lg);display:flex;align-items:center;justify-content:center;gap:3px;padding:0 var(--space-5);margin-bottom:var(--space-5)}
.wave-bar{width:4px;background:var(--tool-listen);border-radius:2px;animation:soundWave 1.2s infinite ease-in-out}
.wave-bar:nth-child(odd){animation-delay:0.1s}
.wave-bar:nth-child(even){animation-delay:0.2s}
.listening-controls{display:flex;align-items:center;justify-content:center;gap:var(--space-4)}
.listening-btn{width:56px;height:56px;border:none;border-radius:50%;font-size:24px;cursor:pointer;transition:all var(--transition-fast);display:flex;align-items:center;justify-content:center}
.listening-btn.play{background:var(--gradient-info);color:white;box-shadow:var(--shadow-md)}
.listening-btn.play:hover{transform:scale(1.1);box-shadow:var(--shadow-lg)}
.listening-btn.control{background:var(--slate-100);color:var(--text-secondary)}
.listening-btn.control:hover{background:var(--slate-200)}
.listening-speed{display:flex;align-items:center;gap:var(--space-2)}
.listening-speed-btn{padding:var(--space-1) var(--space-3);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);font-size:12px;cursor:pointer;transition:all var(--transition-fast)}
.listening-speed-btn.active{background:var(--tool-listen);color:white;border-color:var(--tool-listen)}
.listening-progress{width:100%;height:8px;background:var(--slate-200);border-radius:var(--radius-full);margin:var(--space-4) 0;overflow:hidden}
.listening-progress-fill{height:100%;background:var(--tool-listen);border-radius:var(--radius-full);transition:width 0.3s linear}
.listening-transcript{background:var(--slate-50);border-radius:var(--radius-xl);padding:var(--space-5);margin-bottom:var(--space-5)}
.listening-transcript-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:var(--space-4)}
.listening-transcript-title{font-size:14px;font-weight:700;color:var(--text-tertiary);text-transform:uppercase}
.listening-transcript-toggle{padding:var(--space-1) var(--space-3);background:var(--primary-100);color:var(--primary-700);border:none;border-radius:var(--radius-full);font-size:12px;font-weight:600;cursor:pointer}
.transcript-line{display:flex;gap:var(--space-3);padding:var(--space-3);border-radius:var(--radius-lg);margin-bottom:var(--space-2);transition:background var(--transition-fast)}
.transcript-line:hover{background:rgba(59,130,246,0.1)}
.transcript-line.active{background:var(--info-100)}
.transcript-speaker{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:700;flex-shrink:0}
.transcript-speaker.a{background:var(--gradient-primary);color:white}
.transcript-speaker.b{background:var(--gradient-accent);color:white}
.transcript-content{flex:1}
.transcript-jp{font-family:var(--font-jp);font-size:15px;margin-bottom:var(--space-1)}
.transcript-vn{font-size:13px;color:var(--text-tertiary)}
.transcript-time{font-size:11px;color:var(--text-muted);font-family:monospace}
.listening-questions{background:var(--bg-card);border-radius:var(--radius-xl);padding:var(--space-5);border:1px solid var(--border-light)}
.listening-questions-title{font-size:16px;font-weight:700;margin-bottom:var(--space-4);display:flex;align-items:center;gap:var(--space-2)}
.listening-question{padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-lg);margin-bottom:var(--space-3)}
.listening-question:last-child{margin-bottom:0}
.listening-question-text{font-size:15px;font-weight:600;margin-bottom:var(--space-3)}
.listening-options{display:grid;grid-template-columns:repeat(2,1fr);gap:var(--space-2)}
.listening-option{padding:var(--space-3);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);cursor:pointer;font-size:14px;transition:all var(--transition-fast);text-align:center}
.listening-option:hover{border-color:var(--tool-listen);background:var(--info-50)}
.listening-option.selected{border-color:var(--tool-listen);background:var(--info-100)}
.listening-option.correct{border-color:var(--success-500);background:var(--success-100)}
.listening-option.wrong{border-color:var(--danger-500);background:var(--danger-100)}

/* ========== READING TOOL CSS ========== */
.reading-container{max-width:900px;margin:0 auto}
.reading-card{background:var(--bg-card);border-radius:var(--radius-2xl);overflow:hidden;border:2px solid var(--border-light);margin-bottom:var(--space-5)}
.reading-card-header{padding:var(--space-5);background:linear-gradient(135deg,var(--success-50),var(--accent-50));border-bottom:1px solid var(--border-light)}
.reading-card-title{font-size:22px;font-weight:700;margin-bottom:var(--space-2)}
.reading-card-meta{display:flex;gap:var(--space-3)}
.reading-level{padding:var(--space-1) var(--space-3);background:var(--tool-reading);color:white;border-radius:var(--radius-full);font-size:12px;font-weight:700}
.reading-text-area{padding:var(--space-6)}
.reading-text{font-family:var(--font-jp);font-size:18px;line-height:2;color:var(--text-primary);margin-bottom:var(--space-5)}
.reading-text p{margin-bottom:var(--space-4)}
.reading-translation{padding:var(--space-5);background:var(--slate-50);border-radius:var(--radius-xl);margin-bottom:var(--space-5)}
.reading-translation-header{font-size:12px;font-weight:700;color:var(--text-tertiary);text-transform:uppercase;margin-bottom:var(--space-3);display:flex;align-items:center;gap:var(--space-2)}
.reading-translation-text{font-size:14px;color:var(--text-secondary);line-height:1.8}
.reading-vocabulary{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-3);margin-bottom:var(--space-5)}
.reading-vocab-item{padding:var(--space-3);background:var(--primary-50);border-radius:var(--radius-lg);border-left:4px solid var(--tool-reading)}
.reading-vocab-word{font-family:var(--font-jp);font-size:18px;font-weight:600}
.reading-vocab-reading{font-size:12px;color:var(--tool-reading)}
.reading-vocab-meaning{font-size:13px;color:var(--text-secondary)}
.reading-questions{padding:var(--space-5);border-top:1px solid var(--border-light)}
.reading-questions-title{font-size:16px;font-weight:700;margin-bottom:var(--space-4)}
.reading-question{padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-lg);margin-bottom:var(--space-3)}
.reading-question-text{font-size:15px;font-weight:600;margin-bottom:var(--space-3)}
.reading-options{display:flex;flex-direction:column;gap:var(--space-2)}
.reading-option{padding:var(--space-3);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);cursor:pointer;font-size:14px;transition:all var(--transition-fast)}
.reading-option:hover{border-color:var(--tool-reading);background:var(--success-50)}
.reading-option.correct{border-color:var(--success-500);background:var(--success-100)}

/* ========== WRITING TOOL CSS ========== */
.writing-container{max-width:900px;margin:0 auto}
.writing-tabs{display:flex;gap:var(--space-2);margin-bottom:var(--space-5);justify-content:center}
.writing-tab{padding:var(--space-3) var(--space-6);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-weight:600;transition:all var(--transition-fast)}
.writing-tab:hover{border-color:var(--tool-writing)}
.writing-tab.active{background:var(--tool-writing);color:white;border-color:var(--tool-writing)}
.writing-practice{display:grid;grid-template-columns:repeat(auto-fill,minmax(160px,1fr));gap:var(--space-4)}
.writing-char-card{background:var(--bg-card);border-radius:var(--radius-xl);padding:var(--space-5);border:2px solid var(--border-light);text-align:center;transition:all var(--transition-fast);cursor:pointer}
.writing-char-card:hover{border-color:var(--tool-writing);transform:translateY(-4px);box-shadow:var(--shadow-lg)}
.writing-char{font-family:var(--font-jp);font-size:64px;font-weight:400;margin-bottom:var(--space-2)}
.writing-romaji{font-size:16px;color:var(--tool-writing);font-weight:600}
.writing-strokes{font-size:12px;color:var(--text-muted)}
.writing-kanji-meaning{font-size:13px;color:var(--text-secondary);margin-top:var(--space-1)}
.writing-canvas{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:2px solid var(--border-light);margin-top:var(--space-5)}
.writing-canvas-area{width:100%;height:300px;background:var(--slate-50);border-radius:var(--radius-xl);border:2px dashed var(--border-medium);display:flex;align-items:center;justify-content:center;margin-bottom:var(--space-4)}
.writing-canvas-placeholder{text-align:center;color:var(--text-muted)}
.writing-canvas-icon{font-size:48px;margin-bottom:var(--space-2)}
.writing-canvas-controls{display:flex;gap:var(--space-3);justify-content:center}
.writing-canvas-btn{padding:var(--space-2) var(--space-5);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-lg);font-size:14px;font-weight:600;cursor:pointer;transition:all var(--transition-fast)}
.writing-canvas-btn:hover{background:var(--slate-100)}
.writing-canvas-btn.primary{background:var(--tool-writing);color:white;border-color:var(--tool-writing)}

/* ========== CULTURE CORNER CSS ========== */
.culture-container{max-width:900px;margin:0 auto}
.culture-card{background:var(--bg-card);border-radius:var(--radius-2xl);overflow:hidden;border:2px solid var(--border-light);margin-bottom:var(--space-5)}
.culture-card-header{padding:var(--space-5);background:linear-gradient(135deg,var(--warning-50),var(--accent-50));border-bottom:1px solid var(--border-light);display:flex;align-items:center;gap:var(--space-4)}
.culture-icon{font-size:48px}
.culture-title{font-size:22px;font-weight:700}
.culture-content{padding:var(--space-6);font-size:15px;line-height:1.8;color:var(--text-secondary)}
.culture-content p{margin-bottom:var(--space-4)}
.culture-quiz{padding:var(--space-5);background:var(--slate-50);border-top:1px solid var(--border-light)}
.culture-quiz-question{font-size:15px;font-weight:600;margin-bottom:var(--space-3)}
.culture-quiz-options{display:flex;gap:var(--space-2);flex-wrap:wrap}
.culture-quiz-option{padding:var(--space-2) var(--space-4);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-lg);cursor:pointer;font-size:14px;transition:all var(--transition-fast)}
.culture-quiz-option:hover{border-color:var(--warning-400);background:var(--warning-50)}
.culture-quiz-option.correct{border-color:var(--success-500);background:var(--success-100)}

/* ========== ADDITIONAL ANIMATIONS ========== */
@keyframes confetti{0%{transform:translateY(-100vh) rotate(0deg);opacity:1}100%{transform:translateY(100vh) rotate(720deg);opacity:0}}
@keyframes celebrate{0%,100%{transform:scale(1)}50%{transform:scale(1.2)}}
@keyframes sparkle{0%,100%{opacity:0;transform:scale(0)}50%{opacity:1;transform:scale(1)}}
@keyframes typewriter{from{width:0}to{width:100%}}
@keyframes blink-caret{from,to{border-color:transparent}50%{border-color:var(--primary-500)}}
@keyframes gradient-shift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
.animate-confetti{animation:confetti 3s linear infinite}
.animate-celebrate{animation:celebrate 0.5s ease-in-out}
.animate-sparkle{animation:sparkle 1.5s ease-in-out infinite}
.animate-typewriter{animation:typewriter 2s steps(40) 1s 1 normal both,blink-caret 0.75s step-end infinite}
.animate-gradient{animation:gradient-shift 5s ease infinite;background-size:200% 200%}

/* ========== RESPONSIVE ENHANCEMENTS ========== */
@media (max-width: 1400px) {
    .vocab-grid{grid-template-columns:repeat(auto-fill,minmax(360px,1fr))}
    .grammar-grid{grid-template-columns:repeat(auto-fill,minmax(340px,1fr))}
}
@media (max-width: 1200px) {
    .student-panel{width:300px}
    .mini-dashboard{grid-template-columns:repeat(2,1fr)}
}
@media (max-width: 1024px) {
    .phase-item .phase-info{display:none}
    .phase-item{padding:var(--space-2)}
    .vocab-grid{grid-template-columns:1fr}
}

/* ========== DARK MODE SUPPORT (Future) ========== */
@media (prefers-color-scheme: dark) {
    /* Placeholder for dark mode variables */
}

/* ========== PRINT STYLES ========== */
@media print {
    .tool-palette,.student-panel,.header-bar,.phase-bar,.bottom-controller{display:none !important}
    .main-canvas{margin:0;padding:20px}
    .vocab-card{page-break-inside:avoid}
}

/* ========== ACCESSIBILITY ========== */
@media (prefers-reduced-motion: reduce) {
    *{animation:none !important;transition:none !important}
}
.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border-width:0}
:focus-visible{outline:3px solid var(--primary-400);outline-offset:2px}



/* ========== ENHANCED UI COMPONENTS CSS ========== */

/* Progress Cards */
.progress-card{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:1px solid var(--border-light);margin-bottom:var(--space-4)}
.progress-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-3)}
.progress-card-title{font-size:15px;font-weight:700;color:var(--text-primary)}
.progress-card-value{font-size:24px;font-weight:800;color:var(--primary-600)}
.progress-card-bar{height:10px;background:var(--slate-200);border-radius:var(--radius-full);overflow:hidden}
.progress-card-fill{height:100%;background:var(--gradient-primary);border-radius:var(--radius-full);transition:width 0.5s ease}
.progress-card-meta{display:flex;justify-content:space-between;margin-top:var(--space-2);font-size:12px;color:var(--text-muted)}

/* Achievement Badges */
.achievement-container{display:flex;flex-wrap:wrap;gap:var(--space-3);margin-bottom:var(--space-5)}
.achievement-badge{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2) var(--space-4);background:var(--slate-50);border-radius:var(--radius-full);border:1px solid var(--border-light)}
.achievement-badge.earned{background:linear-gradient(135deg,var(--gold-100),var(--gold-50));border-color:var(--gold-300)}
.achievement-badge-icon{font-size:20px}
.achievement-badge-text{font-size:13px;font-weight:600;color:var(--text-secondary)}
.achievement-badge.earned .achievement-badge-text{color:var(--gold-700)}

/* Streak Counter */
.streak-container{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-4);background:linear-gradient(135deg,var(--warning-100),var(--warning-50));border-radius:var(--radius-xl);margin-bottom:var(--space-5)}
.streak-fire{font-size:40px;animation:pulse 1s infinite}
.streak-info{flex:1}
.streak-count{font-size:28px;font-weight:800;color:var(--warning-700)}
.streak-label{font-size:13px;color:var(--warning-600)}
.streak-days{display:flex;gap:var(--space-1);margin-top:var(--space-2)}
.streak-day{width:24px;height:24px;border-radius:50%;background:var(--warning-200);display:flex;align-items:center;justify-content:center;font-size:10px;font-weight:700;color:var(--warning-600)}
.streak-day.active{background:var(--warning-500);color:white}

/* Leaderboard */
.leaderboard{background:var(--bg-card);border-radius:var(--radius-2xl);overflow:hidden;border:1px solid var(--border-light)}
.leaderboard-header{padding:var(--space-4);background:var(--gradient-primary);color:white}
.leaderboard-title{font-size:16px;font-weight:700;display:flex;align-items:center;gap:var(--space-2)}
.leaderboard-list{padding:var(--space-3)}
.leaderboard-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3);border-radius:var(--radius-lg);transition:background var(--transition-fast)}
.leaderboard-item:hover{background:var(--slate-50)}
.leaderboard-item.top-1{background:linear-gradient(135deg,var(--gold-100),var(--gold-50))}
.leaderboard-item.top-2{background:linear-gradient(135deg,var(--slate-200),var(--slate-100))}
.leaderboard-item.top-3{background:linear-gradient(135deg,var(--warning-100),var(--warning-50))}
.leaderboard-rank{width:32px;height:32px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:800;font-size:14px}
.leaderboard-item.top-1 .leaderboard-rank{background:var(--gold-500);color:white}
.leaderboard-item.top-2 .leaderboard-rank{background:var(--slate-400);color:white}
.leaderboard-item.top-3 .leaderboard-rank{background:var(--warning-500);color:white}
.leaderboard-avatar{width:40px;height:40px;border-radius:50%;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center;font-size:18px}
.leaderboard-info{flex:1}
.leaderboard-name{font-size:14px;font-weight:600}
.leaderboard-stats{font-size:12px;color:var(--text-muted)}
.leaderboard-score{font-size:18px;font-weight:800;color:var(--primary-600)}

/* Session Summary */
.session-summary{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:1px solid var(--border-light)}
.session-summary-header{text-align:center;margin-bottom:var(--space-6)}
.session-summary-title{font-size:24px;font-weight:800;margin-bottom:var(--space-2)}
.session-summary-subtitle{font-size:14px;color:var(--text-tertiary)}
.session-summary-stats{display:grid;grid-template-columns:repeat(4,1fr);gap:var(--space-4);margin-bottom:var(--space-6)}
.session-stat{text-align:center;padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-xl)}
.session-stat-icon{font-size:32px;margin-bottom:var(--space-2)}
.session-stat-value{font-size:28px;font-weight:800;color:var(--primary-600)}
.session-stat-label{font-size:12px;color:var(--text-muted);text-transform:uppercase}
.session-summary-chart{height:200px;background:var(--slate-50);border-radius:var(--radius-xl);display:flex;align-items:flex-end;justify-content:space-around;padding:var(--space-4)}
.chart-bar{width:40px;background:var(--gradient-primary);border-radius:var(--radius-md) var(--radius-md) 0 0;transition:height 0.5s ease}
.chart-bar-label{text-align:center;font-size:11px;color:var(--text-muted);margin-top:var(--space-1)}

/* Notification Center */
.notification-center{position:fixed;top:var(--header-height);right:var(--space-4);width:360px;max-height:calc(100vh - var(--header-height) - 100px);background:var(--bg-card);border-radius:var(--radius-2xl);box-shadow:var(--shadow-2xl);border:1px solid var(--border-light);overflow:hidden;z-index:1000;animation:slideInRight var(--transition-base)}
.notification-header{padding:var(--space-4);background:var(--slate-50);border-bottom:1px solid var(--border-light);display:flex;justify-content:space-between;align-items:center}
.notification-title{font-size:15px;font-weight:700}
.notification-mark-all{font-size:12px;color:var(--primary-600);cursor:pointer}
.notification-list{max-height:400px;overflow-y:auto}
.notification-item{padding:var(--space-4);border-bottom:1px solid var(--border-light);cursor:pointer;transition:background var(--transition-fast)}
.notification-item:hover{background:var(--slate-50)}
.notification-item.unread{background:var(--primary-50)}
.notification-item-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:var(--space-1)}
.notification-item-title{font-size:14px;font-weight:600}
.notification-item-time{font-size:11px;color:var(--text-muted)}
.notification-item-body{font-size:13px;color:var(--text-secondary)}

/* Floating Action Button */
.fab-container{position:fixed;bottom:calc(var(--bottom-height) + var(--space-4));right:var(--space-6);display:flex;flex-direction:column-reverse;gap:var(--space-3);z-index:100}
.fab{width:56px;height:56px;border-radius:50%;border:none;cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:24px;box-shadow:var(--shadow-lg);transition:all var(--transition-fast)}
.fab.primary{background:var(--gradient-primary);color:white}
.fab.secondary{background:var(--bg-card);color:var(--text-secondary);border:1px solid var(--border-light)}
.fab:hover{transform:scale(1.1);box-shadow:var(--shadow-xl)}
.fab-menu{display:flex;flex-direction:column;gap:var(--space-2);animation:fadeInUp var(--transition-base)}
.fab-menu-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-2) var(--space-4);background:var(--bg-card);border-radius:var(--radius-full);box-shadow:var(--shadow-md);white-space:nowrap}
.fab-menu-item-icon{font-size:18px}
.fab-menu-item-text{font-size:13px;font-weight:600}

/* Time Picker */
.time-picker{display:flex;align-items:center;gap:var(--space-2);padding:var(--space-2);background:var(--slate-50);border-radius:var(--radius-xl)}
.time-picker-segment{display:flex;flex-direction:column;align-items:center}
.time-picker-value{font-size:24px;font-weight:700;font-family:var(--font-mono)}
.time-picker-label{font-size:10px;color:var(--text-muted);text-transform:uppercase}
.time-picker-btn{width:28px;height:28px;border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-md);cursor:pointer;display:flex;align-items:center;justify-content:center;font-size:14px;transition:all var(--transition-fast)}
.time-picker-btn:hover{background:var(--primary-100);border-color:var(--primary-300)}
.time-picker-separator{font-size:24px;font-weight:700;color:var(--text-muted)}

/* Color Picker */
.color-picker{display:flex;flex-wrap:wrap;gap:var(--space-2);padding:var(--space-3)}
.color-swatch{width:32px;height:32px;border-radius:50%;cursor:pointer;border:3px solid transparent;transition:all var(--transition-fast)}
.color-swatch:hover{transform:scale(1.15)}
.color-swatch.selected{border-color:var(--text-primary);box-shadow:var(--shadow-md)}

/* Breadcrumb */
.breadcrumb{display:flex;align-items:center;gap:var(--space-2);font-size:13px;color:var(--text-tertiary);margin-bottom:var(--space-4)}
.breadcrumb-item{display:flex;align-items:center;gap:var(--space-1)}
.breadcrumb-item a{color:var(--primary-600);text-decoration:none}
.breadcrumb-item a:hover{text-decoration:underline}
.breadcrumb-separator{color:var(--text-muted)}

/* Empty State */
.empty-state{text-align:center;padding:var(--space-12);color:var(--text-muted)}
.empty-state-icon{font-size:64px;margin-bottom:var(--space-4);opacity:0.5}
.empty-state-title{font-size:20px;font-weight:700;color:var(--text-secondary);margin-bottom:var(--space-2)}
.empty-state-text{font-size:14px;margin-bottom:var(--space-6)}
.empty-state-action{display:inline-flex;align-items:center;gap:var(--space-2);padding:var(--space-3) var(--space-6);background:var(--gradient-primary);color:white;border-radius:var(--radius-xl);font-weight:600;text-decoration:none;transition:all var(--transition-fast)}
.empty-state-action:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}

/* Skeleton Loading */
.skeleton{background:linear-gradient(90deg,var(--slate-200) 25%,var(--slate-100) 50%,var(--slate-200) 75%);background-size:200% 100%;animation:shimmer 1.5s infinite;border-radius:var(--radius-md)}
.skeleton-text{height:16px;margin-bottom:var(--space-2)}
.skeleton-text.short{width:60%}
.skeleton-text.medium{width:80%}
.skeleton-avatar{width:48px;height:48px;border-radius:50%}
.skeleton-card{height:120px;border-radius:var(--radius-xl)}
.skeleton-button{height:40px;width:120px;border-radius:var(--radius-lg)}

/* Tooltip Enhancements */
.tooltip-container{position:relative;display:inline-block}
.tooltip{position:absolute;bottom:calc(100% + 8px);left:50%;transform:translateX(-50%);padding:var(--space-2) var(--space-3);background:var(--slate-900);color:white;font-size:12px;border-radius:var(--radius-lg);white-space:nowrap;opacity:0;visibility:hidden;transition:all var(--transition-fast);z-index:1000}
.tooltip::after{content:'';position:absolute;top:100%;left:50%;transform:translateX(-50%);border:6px solid transparent;border-top-color:var(--slate-900)}
.tooltip-container:hover .tooltip{opacity:1;visibility:visible}

/* Badge Variants */
.badge{display:inline-flex;align-items:center;gap:var(--space-1);padding:var(--space-1) var(--space-2);border-radius:var(--radius-full);font-size:11px;font-weight:700;text-transform:uppercase}
.badge-primary{background:var(--primary-100);color:var(--primary-700)}
.badge-success{background:var(--success-100);color:var(--success-700)}
.badge-warning{background:var(--warning-100);color:var(--warning-700)}
.badge-danger{background:var(--danger-100);color:var(--danger-700)}
.badge-info{background:var(--info-100);color:var(--info-700)}
.badge-outline{background:transparent;border:1px solid currentColor}
.badge-dot::before{content:'';width:6px;height:6px;border-radius:50%;background:currentColor}

/* Card Variants */
.card-interactive{cursor:pointer;transition:all var(--transition-fast)}
.card-interactive:hover{transform:translateY(-4px);box-shadow:var(--shadow-xl)}
.card-selected{border-color:var(--primary-500);box-shadow:0 0 0 3px var(--primary-100)}
.card-disabled{opacity:0.5;pointer-events:none}
.card-gradient{background:linear-gradient(135deg,var(--primary-50),var(--accent-50))}
.card-bordered{border-left:4px solid var(--primary-500)}

/* Input Enhancements */
.input-group{display:flex;align-items:stretch}
.input-group .input-addon{padding:var(--space-3);background:var(--slate-100);border:1px solid var(--border-light);display:flex;align-items:center;justify-content:center;color:var(--text-muted)}
.input-group .input-addon:first-child{border-radius:var(--radius-lg) 0 0 var(--radius-lg);border-right:none}
.input-group .input-addon:last-child{border-radius:0 var(--radius-lg) var(--radius-lg) 0;border-left:none}
.input-group input{border-radius:0;flex:1}
.input-with-icon{position:relative}
.input-with-icon input{padding-left:var(--space-10)}
.input-with-icon .input-icon{position:absolute;left:var(--space-3);top:50%;transform:translateY(-50%);color:var(--text-muted)}

/* Chip/Tag Components */
.chip-group{display:flex;flex-wrap:wrap;gap:var(--space-2)}
.chip{display:inline-flex;align-items:center;gap:var(--space-1);padding:var(--space-1) var(--space-3);background:var(--slate-100);border-radius:var(--radius-full);font-size:13px;transition:all var(--transition-fast)}
.chip:hover{background:var(--slate-200)}
.chip-removable{cursor:pointer}
.chip-remove{width:16px;height:16px;border-radius:50%;background:var(--slate-300);display:flex;align-items:center;justify-content:center;font-size:10px;color:white}
.chip-remove:hover{background:var(--danger-500)}
.chip-primary{background:var(--primary-100);color:var(--primary-700)}
.chip-success{background:var(--success-100);color:var(--success-700)}

/* Divider Variants */
.divider{height:1px;background:var(--border-light);margin:var(--space-4) 0}
.divider-vertical{width:1px;height:auto;min-height:24px}
.divider-with-text{display:flex;align-items:center;gap:var(--space-3)}
.divider-with-text::before,.divider-with-text::after{content:'';flex:1;height:1px;background:var(--border-light)}
.divider-with-text span{font-size:12px;color:var(--text-muted);text-transform:uppercase}

/* Alert/Banner Components */
.alert{padding:var(--space-4);border-radius:var(--radius-xl);display:flex;gap:var(--space-3);margin-bottom:var(--space-4)}
.alert-icon{font-size:20px;flex-shrink:0}
.alert-content{flex:1}
.alert-title{font-weight:700;margin-bottom:var(--space-1)}
.alert-text{font-size:14px;opacity:0.9}
.alert-info{background:var(--info-100);color:var(--info-800);border-left:4px solid var(--info-500)}
.alert-success{background:var(--success-100);color:var(--success-800);border-left:4px solid var(--success-500)}
.alert-warning{background:var(--warning-100);color:var(--warning-800);border-left:4px solid var(--warning-500)}
.alert-danger{background:var(--danger-100);color:var(--danger-800);border-left:4px solid var(--danger-500)}
.alert-dismissible .alert-close{margin-left:auto;cursor:pointer;opacity:0.6}
.alert-dismissible .alert-close:hover{opacity:1}



/* ========== COMPREHENSIVE PHRASES COMPONENT CSS ========== */
.phrases-container{max-width:1000px;margin:0 auto}
.phrases-category-tabs{display:flex;flex-wrap:wrap;gap:var(--space-2);margin-bottom:var(--space-5);justify-content:center}
.phrases-category-tab{padding:var(--space-2) var(--space-4);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-weight:600;transition:all var(--transition-fast);display:flex;align-items:center;gap:var(--space-2)}
.phrases-category-tab:hover{border-color:var(--primary-300);background:var(--primary-50)}
.phrases-category-tab.active{background:var(--primary-500);color:white;border-color:var(--primary-500)}
.phrases-category-icon{font-size:18px}
.phrases-list{display:flex;flex-direction:column;gap:var(--space-3)}
.phrases-item{background:var(--bg-card);border-radius:var(--radius-xl);padding:var(--space-4);border:1px solid var(--border-light);display:grid;grid-template-columns:1fr auto;gap:var(--space-3);align-items:center;transition:all var(--transition-fast)}
.phrases-item:hover{border-color:var(--primary-300);transform:translateX(4px)}
.phrases-jp{font-family:var(--font-jp);font-size:18px;font-weight:600;color:var(--text-primary);margin-bottom:var(--space-1)}
.phrases-romaji{font-size:13px;color:var(--primary-600);font-style:italic;margin-bottom:var(--space-1)}
.phrases-vn{font-size:14px;color:var(--text-secondary)}
.phrases-note{display:inline-block;padding:var(--space-1) var(--space-2);background:var(--slate-100);border-radius:var(--radius-md);font-size:11px;color:var(--text-muted);margin-top:var(--space-1)}
.phrases-play-btn{width:44px;height:44px;border-radius:50%;border:none;background:var(--gradient-primary);color:white;cursor:pointer;font-size:18px;transition:all var(--transition-fast)}
.phrases-play-btn:hover{transform:scale(1.1);box-shadow:var(--shadow-lg)}

/* ========== NUMBERS COMPONENT CSS ========== */
.numbers-container{max-width:900px;margin:0 auto}
.numbers-section{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:1px solid var(--border-light);margin-bottom:var(--space-5)}
.numbers-section-title{font-size:18px;font-weight:700;margin-bottom:var(--space-4);display:flex;align-items:center;gap:var(--space-2)}
.numbers-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(140px,1fr));gap:var(--space-3)}
.number-card{background:var(--slate-50);border-radius:var(--radius-xl);padding:var(--space-4);text-align:center;cursor:pointer;transition:all var(--transition-fast);border:2px solid transparent}
.number-card:hover{background:var(--primary-50);border-color:var(--primary-200);transform:translateY(-2px)}
.number-kanji{font-family:var(--font-jp);font-size:32px;font-weight:600;color:var(--text-primary)}
.number-reading{font-size:14px;color:var(--primary-600);margin-top:var(--space-1)}
.number-romaji{font-size:12px;color:var(--text-muted)}
.number-value{font-size:20px;font-weight:800;color:var(--accent-600);margin-top:var(--space-2)}
.counters-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-3)}
.counter-card{background:linear-gradient(135deg,var(--warning-50),var(--accent-50));border-radius:var(--radius-xl);padding:var(--space-4);border-left:4px solid var(--warning-500)}
.counter-jp{font-family:var(--font-jp);font-size:20px;font-weight:600}
.counter-usage{font-size:13px;color:var(--text-secondary);margin-top:var(--space-1)}
.counter-example{font-size:14px;color:var(--warning-700);font-weight:600;margin-top:var(--space-2)}
.price-examples-list{display:flex;flex-direction:column;gap:var(--space-2)}
.price-example-item{display:flex;align-items:center;gap:var(--space-4);padding:var(--space-3);background:var(--success-50);border-radius:var(--radius-lg)}
.price-example-price{font-size:20px;font-weight:800;color:var(--success-700);min-width:100px}
.price-example-reading{font-family:var(--font-jp);font-size:14px;color:var(--text-secondary);flex:1}
.price-example-romaji{font-size:12px;color:var(--text-muted)}

/* ========== VOCAB BY CATEGORY CSS ========== */
.vocab-category-container{max-width:1000px;margin:0 auto}
.vocab-category-tabs{display:flex;flex-wrap:wrap;gap:var(--space-2);margin-bottom:var(--space-5);justify-content:center}
.vocab-category-tab{padding:var(--space-2) var(--space-4);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-weight:600;transition:all var(--transition-fast);display:flex;align-items:center;gap:var(--space-2)}
.vocab-category-tab:hover{border-color:var(--accent-300);background:var(--accent-50)}
.vocab-category-tab.active{background:var(--accent-500);color:white;border-color:var(--accent-500)}
.vocab-category-words{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-3)}
.vocab-category-word{background:var(--bg-card);border-radius:var(--radius-xl);padding:var(--space-4);border:1px solid var(--border-light);text-align:center;cursor:pointer;transition:all var(--transition-fast)}
.vocab-category-word:hover{border-color:var(--accent-400);transform:translateY(-4px);box-shadow:var(--shadow-lg)}
.vocab-category-jp{font-family:var(--font-jp);font-size:24px;font-weight:600;color:var(--text-primary);margin-bottom:var(--space-1)}
.vocab-category-romaji{font-size:12px;color:var(--accent-600);margin-bottom:var(--space-2)}
.vocab-category-vn{font-size:14px;color:var(--text-secondary);padding:var(--space-2);background:var(--slate-50);border-radius:var(--radius-md)}

/* ========== STUDY MODE CSS ========== */
.study-mode{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-8);border:1px solid var(--border-light);text-align:center;max-width:600px;margin:0 auto}
.study-mode-card{padding:var(--space-8);background:linear-gradient(135deg,var(--primary-50),var(--accent-50));border-radius:var(--radius-2xl);margin-bottom:var(--space-6)}
.study-mode-front{font-family:var(--font-jp);font-size:48px;font-weight:600;margin-bottom:var(--space-3)}
.study-mode-reading{font-size:20px;color:var(--primary-600);margin-bottom:var(--space-2)}
.study-mode-romaji{font-size:16px;color:var(--text-muted);font-style:italic}
.study-mode-back{padding:var(--space-5);background:white;border-radius:var(--radius-xl);margin-top:var(--space-4)}
.study-mode-meaning{font-size:24px;font-weight:700;color:var(--text-primary)}
.study-mode-example{font-size:14px;color:var(--text-secondary);margin-top:var(--space-3);padding:var(--space-3);background:var(--slate-50);border-radius:var(--radius-md)}
.study-mode-controls{display:flex;gap:var(--space-3);justify-content:center}
.study-mode-btn{padding:var(--space-3) var(--space-6);border:none;border-radius:var(--radius-xl);font-weight:600;cursor:pointer;transition:all var(--transition-fast)}
.study-mode-btn.wrong{background:var(--danger-100);color:var(--danger-700)}
.study-mode-btn.wrong:hover{background:var(--danger-200)}
.study-mode-btn.correct{background:var(--success-100);color:var(--success-700)}
.study-mode-btn.correct:hover{background:var(--success-200)}
.study-mode-btn.next{background:var(--gradient-primary);color:white}
.study-mode-btn.next:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.study-mode-progress{display:flex;align-items:center;gap:var(--space-3);margin-top:var(--space-6)}
.study-mode-progress-bar{flex:1;height:8px;background:var(--slate-200);border-radius:var(--radius-full);overflow:hidden}
.study-mode-progress-fill{height:100%;background:var(--gradient-success);border-radius:var(--radius-full)}
.study-mode-progress-text{font-size:14px;color:var(--text-muted)}

/* ========== REVIEW MODE CSS ========== */
.review-summary{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:1px solid var(--border-light)}
.review-summary-header{text-align:center;margin-bottom:var(--space-6)}
.review-summary-icon{font-size:64px;margin-bottom:var(--space-3)}
.review-summary-title{font-size:24px;font-weight:800}
.review-summary-subtitle{font-size:14px;color:var(--text-tertiary)}
.review-summary-stats{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--space-4);margin-bottom:var(--space-6)}
.review-stat{text-align:center;padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-xl)}
.review-stat-value{font-size:32px;font-weight:800}
.review-stat-value.correct{color:var(--success-600)}
.review-stat-value.wrong{color:var(--danger-600)}
.review-stat-value.total{color:var(--info-600)}
.review-stat-label{font-size:12px;color:var(--text-muted);text-transform:uppercase}
.review-words-list{display:flex;flex-direction:column;gap:var(--space-2)}
.review-word-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-3);border-radius:var(--radius-lg)}
.review-word-item.correct{background:var(--success-50)}
.review-word-item.wrong{background:var(--danger-50)}
.review-word-status{width:24px;height:24px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:12px;color:white}
.review-word-item.correct .review-word-status{background:var(--success-500)}
.review-word-item.wrong .review-word-status{background:var(--danger-500)}
.review-word-jp{font-family:var(--font-jp);font-size:16px;font-weight:600;flex:1}
.review-word-vn{font-size:14px;color:var(--text-secondary)}

/* ========== DICTIONARY SEARCH CSS ========== */
.dictionary-search{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:1px solid var(--border-light);margin-bottom:var(--space-5)}
.dictionary-search-input{display:flex;gap:var(--space-3)}
.dictionary-search-input input{flex:1;padding:var(--space-4);border:2px solid var(--border-light);border-radius:var(--radius-xl);font-size:16px;transition:all var(--transition-fast)}
.dictionary-search-input input:focus{border-color:var(--primary-500);box-shadow:0 0 0 3px var(--primary-100)}
.dictionary-search-input button{padding:var(--space-4) var(--space-6);background:var(--gradient-primary);color:white;border:none;border-radius:var(--radius-xl);font-weight:600;cursor:pointer;transition:all var(--transition-fast)}
.dictionary-search-input button:hover{transform:translateY(-2px);box-shadow:var(--shadow-lg)}
.dictionary-results{margin-top:var(--space-5)}
.dictionary-result-item{background:var(--slate-50);border-radius:var(--radius-xl);padding:var(--space-5);margin-bottom:var(--space-3)}
.dictionary-result-word{font-family:var(--font-jp);font-size:28px;font-weight:600;margin-bottom:var(--space-2)}
.dictionary-result-reading{font-size:16px;color:var(--primary-600);margin-bottom:var(--space-3)}
.dictionary-result-meanings{padding-left:var(--space-4)}
.dictionary-result-meaning{font-size:14px;color:var(--text-secondary);margin-bottom:var(--space-2);position:relative;padding-left:var(--space-4)}
.dictionary-result-meaning::before{content:'•';position:absolute;left:0;color:var(--primary-500)}
.dictionary-result-examples{margin-top:var(--space-4);padding:var(--space-4);background:var(--primary-50);border-radius:var(--radius-lg)}
.dictionary-result-example{margin-bottom:var(--space-2)}
.dictionary-result-example-jp{font-family:var(--font-jp);font-size:15px}
.dictionary-result-example-vn{font-size:13px;color:var(--text-muted)}

/* ========== FINAL RESPONSIVE ADJUSTMENTS ========== */
@media (max-width: 768px) {
    .phrases-category-tabs,.vocab-category-tabs{justify-content:flex-start;overflow-x:auto;flex-wrap:nowrap;padding-bottom:var(--space-2)}
    .numbers-grid{grid-template-columns:repeat(2,1fr)}
    .vocab-category-words{grid-template-columns:1fr}
    .review-summary-stats{grid-template-columns:1fr}
    .study-mode-front{font-size:36px}
}



/* ========== KEIGO TOOL CSS ========== */
.keigo-container{max-width:900px;margin:0 auto}
.keigo-intro{text-align:center;margin-bottom:var(--space-6);padding:var(--space-5);background:linear-gradient(135deg,var(--primary-50),var(--accent-50));border-radius:var(--radius-2xl)}
.keigo-intro h3{font-size:20px;margin-bottom:var(--space-2);color:var(--primary-700)}
.keigo-intro p{font-size:14px;color:var(--text-secondary)}
.keigo-tabs{display:flex;gap:var(--space-2);margin-bottom:var(--space-5);justify-content:center}
.keigo-tab{padding:var(--space-3) var(--space-5);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-weight:600;transition:all var(--transition-fast)}
.keigo-tab:hover{border-color:var(--primary-300);background:var(--primary-50)}
.keigo-tab.active{background:var(--primary-500);color:white;border-color:var(--primary-500)}
.keigo-content{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:1px solid var(--border-light)}
.keigo-desc{font-size:14px;color:var(--text-secondary);margin-bottom:var(--space-5);padding:var(--space-3);background:var(--info-50);border-radius:var(--radius-lg);border-left:4px solid var(--info-500)}
.keigo-examples{display:flex;flex-direction:column;gap:var(--space-4)}
.keigo-example{display:grid;grid-template-columns:1fr auto 1fr;gap:var(--space-3);align-items:center;padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-xl)}
.keigo-normal,.keigo-polite{display:flex;flex-direction:column;gap:var(--space-1)}
.keigo-label{font-size:11px;color:var(--text-muted);text-transform:uppercase}
.keigo-text{font-family:var(--font-jp);font-size:18px;cursor:pointer;transition:color var(--transition-fast)}
.keigo-text:hover{color:var(--primary-600)}
.keigo-arrow{font-size:24px;color:var(--primary-500)}
.keigo-vn{grid-column:1/-1;font-size:13px;color:var(--text-tertiary);text-align:center;margin-top:var(--space-2)}
.keigo-common{margin-top:var(--space-6);padding:var(--space-5);background:var(--warning-50);border-radius:var(--radius-2xl)}
.keigo-common h4{font-size:16px;margin-bottom:var(--space-4)}
.keigo-common-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-3)}
.keigo-common-item{background:white;padding:var(--space-4);border-radius:var(--radius-xl);cursor:pointer;transition:all var(--transition-fast);border:1px solid var(--border-light)}
.keigo-common-item:hover{transform:translateY(-2px);box-shadow:var(--shadow-md)}
.keigo-common-jp{font-family:var(--font-jp);font-size:18px;font-weight:600;margin-bottom:var(--space-1)}
.keigo-common-reading{font-size:12px;color:var(--primary-600);margin-bottom:var(--space-2)}
.keigo-common-vn{font-size:14px;color:var(--text-secondary);margin-bottom:var(--space-1)}
.keigo-common-usage{font-size:11px;color:var(--text-muted);padding:var(--space-1) var(--space-2);background:var(--slate-100);border-radius:var(--radius-md);display:inline-block}

/* ========== TIPS TOOL CSS ========== */
.tips-container{max-width:1000px;margin:0 auto}
.tips-tabs{display:flex;gap:var(--space-2);margin-bottom:var(--space-5);justify-content:center}
.tips-tab{padding:var(--space-3) var(--space-5);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-weight:600;transition:all var(--transition-fast)}
.tips-tab:hover{border-color:var(--accent-300);background:var(--accent-50)}
.tips-tab.active{background:var(--accent-500);color:white;border-color:var(--accent-500)}
.tips-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-4)}
.tip-card{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:1px solid var(--border-light);transition:all var(--transition-fast)}
.tip-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}
.tip-header{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-4)}
.tip-icon{font-size:32px}
.tip-title{font-size:16px;font-weight:700}
.tip-list{padding-left:var(--space-4);margin:0}
.tip-list li{font-size:14px;color:var(--text-secondary);margin-bottom:var(--space-2);position:relative}
.tip-list li::marker{color:var(--primary-500)}
.tip-card.pronunciation{text-align:center}
.tip-sound{font-size:18px;font-weight:700;color:var(--primary-600);margin-bottom:var(--space-3)}
.tip-examples{display:flex;flex-wrap:wrap;gap:var(--space-2);justify-content:center;margin-bottom:var(--space-3)}
.tip-example{padding:var(--space-2) var(--space-3);background:var(--slate-100);border-radius:var(--radius-lg);font-family:var(--font-jp);font-size:14px}
.tip-advice{font-size:13px;color:var(--text-secondary);padding:var(--space-3);background:var(--info-50);border-radius:var(--radius-lg)}
.tip-card.memory .tip-title{text-align:center;margin-bottom:var(--space-4);font-size:18px;color:var(--primary-700)}

/* ========== MISTAKES TOOL CSS ========== */
.mistakes-container{max-width:900px;margin:0 auto}
.mistakes-category{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:1px solid var(--border-light);margin-bottom:var(--space-5)}
.mistakes-category-title{font-size:18px;font-weight:700;margin-bottom:var(--space-4);padding-bottom:var(--space-3);border-bottom:2px solid var(--border-light)}
.mistakes-list{display:flex;flex-direction:column;gap:var(--space-4)}
.mistake-item{padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-xl);border-left:4px solid var(--warning-500)}
.mistake-wrong{font-size:15px;margin-bottom:var(--space-2);color:var(--danger-700)}
.mistake-correct{font-size:15px;margin-bottom:var(--space-3);color:var(--success-700)}
.mistake-label{font-weight:700;margin-right:var(--space-2)}
.mistake-explain{font-size:13px;color:var(--text-secondary);padding:var(--space-3);background:var(--info-50);border-radius:var(--radius-lg)}

/* ========== DIALOGUE PRACTICE CSS ========== */
.dialogue-container{max-width:800px;margin:0 auto}
.dialogue-tabs{display:flex;gap:var(--space-2);margin-bottom:var(--space-4);overflow-x:auto;padding-bottom:var(--space-2)}
.dialogue-tab{padding:var(--space-2) var(--space-4);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-weight:600;white-space:nowrap;transition:all var(--transition-fast)}
.dialogue-tab:hover{border-color:var(--primary-300)}
.dialogue-tab.active{background:var(--primary-500);color:white;border-color:var(--primary-500)}
.dialogue-header{display:flex;align-items:center;gap:var(--space-4);margin-bottom:var(--space-5);padding:var(--space-4);background:linear-gradient(135deg,var(--primary-50),var(--accent-50));border-radius:var(--radius-xl)}
.dialogue-header h3{font-size:18px;flex:1}
.dialogue-difficulty{padding:var(--space-1) var(--space-3);background:var(--success-100);color:var(--success-700);border-radius:var(--radius-full);font-size:12px;font-weight:700}
.dialogue-toggle-vn{padding:var(--space-2) var(--space-3);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-lg);cursor:pointer;font-size:13px}
.dialogue-lines{display:flex;flex-direction:column;gap:var(--space-3);margin-bottom:var(--space-5)}
.dialogue-line{display:flex;align-items:flex-start;gap:var(--space-3);padding:var(--space-4);background:var(--bg-card);border-radius:var(--radius-xl);border:2px solid var(--border-light);transition:all var(--transition-fast);opacity:0.6}
.dialogue-line.current{opacity:1;border-color:var(--primary-400);background:var(--primary-50)}
.dialogue-line.passed{opacity:1}
.dialogue-line.staff{border-left:4px solid var(--info-500)}
.dialogue-line.you{border-left:4px solid var(--accent-500)}
.dialogue-role{font-size:12px;color:var(--text-muted);min-width:80px}
.dialogue-content{flex:1}
.dialogue-jp{font-family:var(--font-jp);font-size:18px;cursor:pointer;margin-bottom:var(--space-1)}
.dialogue-jp:hover{color:var(--primary-600)}
.dialogue-vn{font-size:14px;color:var(--text-tertiary)}
.dialogue-play{width:36px;height:36px;border-radius:50%;border:none;background:var(--gradient-primary);color:white;cursor:pointer;font-size:14px;transition:all var(--transition-fast)}
.dialogue-play:hover{transform:scale(1.1)}
.dialogue-controls{display:flex;align-items:center;justify-content:center;gap:var(--space-3)}
.dialogue-controls button{padding:var(--space-2) var(--space-4);border:1px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-lg);cursor:pointer;font-weight:600;transition:all var(--transition-fast)}
.dialogue-controls button:hover:not(:disabled){background:var(--primary-50);border-color:var(--primary-300)}
.dialogue-controls button:disabled{opacity:0.5;cursor:not-allowed}
.dialogue-progress{font-size:14px;color:var(--text-muted);padding:var(--space-2) var(--space-4);background:var(--slate-100);border-radius:var(--radius-full)}

/* ========== STORE TYPES CSS ========== */
.store-types-container{max-width:1000px;margin:0 auto}
.store-types-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:var(--space-4)}
.store-type-card{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:1px solid var(--border-light);transition:all var(--transition-fast)}
.store-type-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}
.store-type-header{display:flex;align-items:center;gap:var(--space-3);margin-bottom:var(--space-3)}
.store-type-jp{font-family:var(--font-jp);font-size:20px;font-weight:600}
.store-type-romaji{font-size:12px;color:var(--primary-600)}
.store-type-vn{font-size:16px;font-weight:700;color:var(--text-primary);margin-bottom:var(--space-2)}
.store-type-desc{font-size:14px;color:var(--text-secondary);margin-bottom:var(--space-3)}
.store-type-examples{display:flex;flex-wrap:wrap;gap:var(--space-2)}
.store-type-example{padding:var(--space-1) var(--space-2);background:var(--slate-100);border-radius:var(--radius-md);font-size:12px;color:var(--text-muted)}

/* ========== SEASONAL SALES CSS ========== */
.sales-container{max-width:900px;margin:0 auto}
.sales-timeline{position:relative;padding-left:var(--space-8)}
.sales-timeline::before{content:'';position:absolute;left:12px;top:0;bottom:0;width:4px;background:var(--gradient-primary);border-radius:var(--radius-full)}
.sales-item{position:relative;padding:var(--space-4);background:var(--bg-card);border-radius:var(--radius-xl);border:1px solid var(--border-light);margin-bottom:var(--space-4)}
.sales-item::before{content:'';position:absolute;left:-34px;top:50%;transform:translateY(-50%);width:16px;height:16px;background:var(--primary-500);border-radius:50%;border:3px solid white;box-shadow:var(--shadow-sm)}
.sales-season{font-family:var(--font-jp);font-size:16px;font-weight:600;color:var(--primary-700)}
.sales-time{font-size:13px;color:var(--text-muted);margin-bottom:var(--space-2)}
.sales-event{font-size:15px;font-weight:700;color:var(--accent-600);margin-bottom:var(--space-1)}
.sales-desc{font-size:14px;color:var(--text-secondary)}

/* ========== PAYMENT METHODS CSS ========== */
.payment-container{max-width:900px;margin:0 auto}
.payment-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(400px,1fr));gap:var(--space-5)}
.payment-card{background:var(--bg-card);border-radius:var(--radius-2xl);overflow:hidden;border:1px solid var(--border-light)}
.payment-header{padding:var(--space-4);background:var(--gradient-primary);color:white;display:flex;align-items:center;gap:var(--space-3)}
.payment-icon{font-size:36px}
.payment-info h4{font-size:16px;margin-bottom:var(--space-1)}
.payment-info span{font-size:13px;opacity:0.9}
.payment-body{padding:var(--space-5)}
.payment-notes{margin-bottom:var(--space-4)}
.payment-notes h5{font-size:14px;font-weight:700;margin-bottom:var(--space-2)}
.payment-notes ul{padding-left:var(--space-4);margin:0}
.payment-notes li{font-size:13px;color:var(--text-secondary);margin-bottom:var(--space-1)}
.payment-phrases h5{font-size:14px;font-weight:700;margin-bottom:var(--space-2)}
.payment-phrase{padding:var(--space-2);background:var(--slate-50);border-radius:var(--radius-lg);margin-bottom:var(--space-2)}
.payment-phrase-jp{font-family:var(--font-jp);font-size:15px;margin-bottom:var(--space-1)}
.payment-phrase-vn{font-size:13px;color:var(--text-muted)}



/* ========== KANJI TOOL CSS ========== */
.kanji-container{max-width:1000px;margin:0 auto}
.kanji-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(180px,1fr));gap:var(--space-4)}
.kanji-card{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:2px solid var(--border-light);text-align:center;cursor:pointer;transition:all var(--transition-fast)}
.kanji-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg);border-color:var(--primary-300)}
.kanji-card.selected{border-color:var(--primary-500);background:var(--primary-50)}
.kanji-char{font-family:var(--font-jp);font-size:56px;font-weight:600;color:var(--text-primary);margin-bottom:var(--space-3)}
.kanji-readings{display:flex;flex-direction:column;gap:var(--space-1);margin-bottom:var(--space-3)}
.kanji-on,.kanji-kun{font-size:12px;color:var(--text-secondary)}
.kanji-on{color:var(--primary-600)}
.kanji-kun{color:var(--accent-600)}
.kanji-meaning{font-size:14px;font-weight:600;color:var(--text-primary);margin-bottom:var(--space-3);padding:var(--space-2);background:var(--slate-100);border-radius:var(--radius-lg)}
.kanji-examples{display:flex;flex-wrap:wrap;gap:var(--space-1);justify-content:center}
.kanji-example{padding:var(--space-1) var(--space-2);background:var(--primary-100);border-radius:var(--radius-md);font-family:var(--font-jp);font-size:12px;color:var(--primary-700);cursor:pointer;transition:all var(--transition-fast)}
.kanji-example:hover{background:var(--primary-200)}

/* ========== GREETING TOOL CSS ========== */
.greeting-container{max-width:900px;margin:0 auto}
.greeting-tabs{display:flex;flex-wrap:wrap;gap:var(--space-2);margin-bottom:var(--space-5);justify-content:center}
.greeting-tab{padding:var(--space-2) var(--space-4);border:2px solid var(--border-light);background:var(--bg-card);border-radius:var(--radius-xl);cursor:pointer;font-weight:600;transition:all var(--transition-fast)}
.greeting-tab:hover{border-color:var(--warning-300);background:var(--warning-50)}
.greeting-tab.active{background:var(--warning-500);color:white;border-color:var(--warning-500)}
.greeting-list{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:var(--space-4)}
.greeting-card{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:1px solid var(--border-light);cursor:pointer;transition:all var(--transition-fast);position:relative}
.greeting-card:hover{transform:translateY(-4px);box-shadow:var(--shadow-lg)}
.greeting-jp{font-family:var(--font-jp);font-size:24px;font-weight:600;margin-bottom:var(--space-2)}
.greeting-romaji{font-size:14px;color:var(--primary-600);margin-bottom:var(--space-2)}
.greeting-vn{font-size:15px;color:var(--text-secondary)}
.greeting-level{position:absolute;top:var(--space-3);right:var(--space-3);padding:var(--space-1) var(--space-2);border-radius:var(--radius-full);font-size:10px;font-weight:700;text-transform:uppercase}
.greeting-level.formal{background:var(--info-100);color:var(--info-700)}
.greeting-level.standard{background:var(--success-100);color:var(--success-700)}
.greeting-level.casual{background:var(--warning-100);color:var(--warning-700)}
.greeting-level.very-formal{background:var(--primary-100);color:var(--primary-700)}
.greeting-level.very-casual{background:var(--accent-100);color:var(--accent-700)}

/* ========== ACHIEVEMENT DISPLAY CSS ========== */
.achievement-display{max-width:900px;margin:0 auto}
.level-card{background:linear-gradient(135deg,var(--primary-500),var(--accent-500));border-radius:var(--radius-2xl);padding:var(--space-6);color:white;margin-bottom:var(--space-6);display:flex;flex-wrap:wrap;align-items:center;gap:var(--space-5)}
.level-icon{font-size:64px}
.level-info{flex:1;min-width:200px}
.level-name{font-size:20px;font-weight:700;margin-bottom:var(--space-1)}
.level-points{font-size:14px;opacity:0.9}
.level-progress{flex:1;min-width:250px}
.level-progress-bar{height:12px;background:rgba(255,255,255,0.3);border-radius:var(--radius-full);overflow:hidden;margin-bottom:var(--space-2)}
.level-progress-fill{height:100%;background:white;border-radius:var(--radius-full);transition:width 0.5s ease}
.level-progress-text{font-size:13px;opacity:0.9}
.badges-section h4{font-size:18px;margin-bottom:var(--space-4)}
.badges-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:var(--space-4)}
.badge-card{background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-5);border:2px solid var(--border-light);text-align:center;transition:all var(--transition-fast)}
.badge-card.earned{border-color:var(--gold-400);background:linear-gradient(135deg,var(--gold-50),var(--warning-50))}
.badge-card.locked{opacity:0.6}
.badge-icon{font-size:40px;margin-bottom:var(--space-2)}
.badge-name{font-size:14px;font-weight:700;margin-bottom:var(--space-1)}
.badge-desc{font-size:12px;color:var(--text-muted);margin-bottom:var(--space-2)}
.badge-points{font-size:13px;font-weight:600;color:var(--success-600);padding:var(--space-1) var(--space-2);background:var(--success-100);border-radius:var(--radius-full);display:inline-block}

/* ========== LESSON PLAN CSS ========== */
.lesson-plan-display{max-width:900px;margin:0 auto;background:var(--bg-card);border-radius:var(--radius-2xl);padding:var(--space-6);border:1px solid var(--border-light)}
.lesson-header{text-align:center;margin-bottom:var(--space-6);padding-bottom:var(--space-5);border-bottom:2px solid var(--border-light)}
.lesson-header h2{font-size:24px;margin-bottom:var(--space-3)}
.lesson-meta{display:flex;justify-content:center;gap:var(--space-5)}
.lesson-level,.lesson-duration{padding:var(--space-2) var(--space-4);background:var(--slate-100);border-radius:var(--radius-full);font-size:14px;font-weight:600}
.lesson-objectives{margin-bottom:var(--space-6);padding:var(--space-5);background:var(--primary-50);border-radius:var(--radius-xl)}
.lesson-objectives h4{font-size:16px;margin-bottom:var(--space-3)}
.lesson-objectives ul{padding-left:var(--space-5);margin:0}
.lesson-objectives li{margin-bottom:var(--space-2);font-size:14px}
.lesson-phases{margin-bottom:var(--space-6)}
.lesson-phases h4{font-size:16px;margin-bottom:var(--space-4)}
.phase-card{background:var(--slate-50);border-radius:var(--radius-xl);margin-bottom:var(--space-4);overflow:hidden}
.phase-header{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-4);background:var(--gradient-primary);color:white}
.phase-number{font-size:12px;opacity:0.9}
.phase-name{flex:1;font-size:16px;font-weight:700}
.phase-duration{font-size:14px;padding:var(--space-1) var(--space-3);background:rgba(255,255,255,0.2);border-radius:var(--radius-full)}
.phase-activities{padding:var(--space-4)}
.activity-item{display:flex;align-items:center;gap:var(--space-3);padding:var(--space-2);margin-bottom:var(--space-2);background:white;border-radius:var(--radius-lg)}
.activity-name{font-weight:600;min-width:120px}
.activity-duration{font-size:12px;color:var(--primary-600);padding:var(--space-1) var(--space-2);background:var(--primary-100);border-radius:var(--radius-md)}
.activity-desc{flex:1;font-size:13px;color:var(--text-secondary)}
.lesson-homework{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-5)}
.homework-section{padding:var(--space-4);background:var(--slate-50);border-radius:var(--radius-xl)}
.homework-section h4{font-size:14px;margin-bottom:var(--space-3)}
.homework-section ul{padding-left:var(--space-4);margin:0}
.homework-section li{font-size:13px;color:var(--text-secondary);margin-bottom:var(--space-2)}

/* ========== GRAMMAR LIBRARY BUTTON ========== */
.section-title-area {
    position: relative;  /* For absolute button */
}

.grammar-library-btn {
    position: absolute;
    top: 0;
    right: 0;
    background: linear-gradient(135deg, #DC2626, #991B1B);
    color: white;
    padding: 8px 16px;
    border-radius: 8px;
    border: none;
    cursor: pointer;
    display: flex;
    align-items: center;
    gap: 8px;
    font-weight: 600;
    font-size: 14px;
    transition: all 0.2s ease;
    z-index: 10;
}

.grammar-library-btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(220, 38, 38, 0.3);
}

.grammar-library-btn:active {
    transform: translateY(0);
}

.grammar-library-btn .badge {
    background: rgba(255, 255, 255, 0.2);
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 700;
}

/* ========== FINAL RESPONSIVE ========== */
@media (max-width: 768px) {
    .level-card{flex-direction:column;text-align:center}
    .lesson-homework{grid-template-columns:1fr}
    .payment-grid{grid-template-columns:1fr}
}

